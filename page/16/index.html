<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>æ½˜å°æ¦­</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="black"><meta name="application-name" content="panxiaoxie"><meta name="msapplication-TileImage" content="/img/avatar.png"><meta name="msapplication-TileColor" content="black"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="panxiaoxie"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="panxiaoxie"><meta property="og:url" content="https://github.com/PanXiebit"><meta property="og:site_name" content="panxiaoxie"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.qt86.com/cache/1625298592_187938.png"><meta property="article:author" content="panxiaoxie"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://www.qt86.com/cache/1625298592_187938.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.panxiaoxie.cn"},"headline":"æ½˜å°æ¦­","image":["http://www.panxiaoxie.cn/img/og_image.png"],"author":{"@type":"Person","name":"Xie Pan"},"publisher":{"@type":"Organization","name":"æ½˜å°æ¦­","logo":{"@type":"ImageObject","url":"http://www.panxiaoxie.cn/img/panxiaoxie.png"}},"description":null}</script><link rel="icon" href="/img/avatar.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/panxiaoxie.png" alt="æ½˜å°æ¦­" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">ä¸»é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">åˆ†ç±»</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">å…³äºæˆ‘</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/PanXiebit"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-10-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-08-07T01:28:38.000Z" title="2018/8/7 ä¸Šåˆ9:28:38">2018-08-07</time>å‘è¡¨</span><span class="level-item"><time dateTime="2021-01-27T08:44:33.634Z" title="2021/1/27 ä¸‹åˆ4:44:33">2021-01-27</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/">æ–‡æœ¬åˆ†ç±»</a></span><span class="level-item">34 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦5038ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E8%8B%B1%E6%96%87%E6%96%87%E6%9C%AC%E9%A2%84%E5%A4%84%E7%90%86/">æœºå™¨å­¦ä¹ -è‹±æ–‡æ–‡æœ¬é¢„å¤„ç†</a></h1><div class="content"><h3 id="è½¬è½½è‡ªï¼šhttp-www-cnblogs-com-pinard-p-6756534-html"><a href="#è½¬è½½è‡ªï¼šhttp-www-cnblogs-com-pinard-p-6756534-html" class="headerlink" title="è½¬è½½è‡ªï¼šhttp://www.cnblogs.com/pinard/p/6756534.html"></a>è½¬è½½è‡ªï¼š<a target="_blank" rel="noopener" href="http://www.cnblogs.com/pinard/p/6756534.html">http://www.cnblogs.com/pinard/p/6756534.html</a></h3><h2 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ç‰¹ç‚¹"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ç‰¹ç‚¹" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ç‰¹ç‚¹"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ç‰¹ç‚¹</h2><p>è‹±æ–‡æ–‡æœ¬çš„é¢„å¤„ç†æ–¹æ³•å’Œä¸­æ–‡çš„æœ‰éƒ¨åˆ†åŒºåˆ«ã€‚é¦–å…ˆï¼Œè‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸€èˆ¬å¯ä»¥ä¸åšåˆ†è¯ï¼ˆç‰¹æ®Šéœ€æ±‚é™¤å¤–ï¼‰ï¼Œè€Œä¸­æ–‡é¢„å¤„ç†åˆ†è¯æ˜¯å¿…ä¸å¯å°‘çš„ä¸€æ­¥ã€‚ç¬¬äºŒç‚¹ï¼Œå¤§éƒ¨åˆ†è‹±æ–‡æ–‡æœ¬éƒ½æ˜¯uft-8çš„ç¼–ç ï¼Œè¿™æ ·åœ¨å¤§å¤šæ•°æ—¶å€™å¤„ç†çš„æ—¶å€™ä¸ç”¨è€ƒè™‘ç¼–ç è½¬æ¢çš„é—®é¢˜ï¼Œè€Œä¸­æ–‡æ–‡æœ¬å¤„ç†å¿…é¡»è¦å¤„ç†unicodeçš„ç¼–ç é—®é¢˜ã€‚</p>
<p>è€Œè‹±æ–‡æ–‡æœ¬çš„é¢„å¤„ç†ä¹Ÿæœ‰è‡ªå·±ç‰¹æ®Šçš„åœ°æ–¹ï¼Œç¬¬ä¸‰ç‚¹å°±æ˜¯æ‹¼å†™é—®é¢˜ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬çš„é¢„å¤„ç†è¦åŒ…æ‹¬æ‹¼å†™æ£€æŸ¥ï¼Œæ¯”å¦‚â€œHelo Worldâ€è¿™æ ·çš„é”™è¯¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨åˆ†æçš„æ—¶å€™è®²é”™çº é”™ã€‚æ‰€ä»¥éœ€è¦åœ¨é¢„å¤„ç†å‰åŠ ä»¥çº æ­£ã€‚ç¬¬å››ç‚¹å°±æ˜¯è¯å¹²æå–(stemming)å’Œè¯å½¢è¿˜åŸ(lemmatization)ã€‚è¿™ä¸ªä¸œè¥¿ä¸»è¦æ˜¯è‹±æ–‡æœ‰å•æ•°ï¼Œå¤æ•°å’Œå„ç§æ—¶æ€ï¼Œå¯¼è‡´ä¸€ä¸ªè¯ä¼šæœ‰ä¸åŒçš„å½¢å¼ã€‚æ¯”å¦‚â€œcountriesâ€å’Œâ€countryâ€ï¼Œâ€wolfâ€å’Œâ€wolvesâ€ï¼Œæˆ‘ä»¬æœŸæœ›æ˜¯æœ‰ä¸€ä¸ªè¯ã€‚</p>
<h2 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸€ï¼šæ•°æ®æ”¶é›†"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸€ï¼šæ•°æ®æ”¶é›†" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸€ï¼šæ•°æ®æ”¶é›†"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸€ï¼šæ•°æ®æ”¶é›†</h2><p>è¿™éƒ¨åˆ†è‹±æ–‡å’Œä¸­æ–‡ç±»ä¼¼ã€‚è·å–æ–¹æ³•ä¸€èˆ¬æœ‰ä¸¤ç§ï¼šä½¿ç”¨åˆ«äººåšå¥½çš„è¯­æ–™åº“å’Œè‡ªå·±ç”¨çˆ¬è™«å»åœ¨ç½‘ä¸Šå»çˆ¬è‡ªå·±çš„è¯­æ–™æ•°æ®ã€‚</p>
<p>å¯¹äºç¬¬ä¸€ç§æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–‡æœ¬è¯­æ–™åº“åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œå¦‚æœå¤§å®¶åªæ˜¯å­¦ä¹ ï¼Œåˆ™å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥ä½¿ç”¨ï¼Œä½†å¦‚æœæ˜¯æŸäº›ç‰¹æ®Šä¸»é¢˜çš„è¯­æ–™åº“ï¼Œæ¯”å¦‚â€œdeep learningâ€ç›¸å…³çš„è¯­æ–™åº“ï¼Œåˆ™è¿™ç§æ–¹æ³•è¡Œä¸é€šï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç”¨ç¬¬äºŒç§æ–¹æ³•å»è·å–ã€‚</p>
<p>å¯¹äºç¬¬äºŒç§ä½¿ç”¨çˆ¬è™«çš„æ–¹æ³•ï¼Œå¼€æºå·¥å…·æœ‰å¾ˆå¤šï¼Œé€šç”¨çš„çˆ¬è™«æˆ‘ä¸€èˆ¬ä½¿ç”¨beautifulsoupã€‚ä½†æ˜¯æˆ‘ä»¬æˆ‘ä»¬éœ€è¦æŸäº›ç‰¹æ®Šçš„è¯­æ–™æ•°æ®ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„â€œdeep learningâ€ç›¸å…³çš„è¯­æ–™åº“ï¼Œåˆ™éœ€è¦ç”¨ä¸»é¢˜çˆ¬è™«ï¼ˆä¹Ÿå«èšç„¦çˆ¬è™«ï¼‰æ¥å®Œæˆã€‚è¿™ä¸ªæˆ‘ä¸€èˆ¬ä½¿ç”¨acheã€‚ acheå…è®¸æˆ‘ä»¬ç”¨å…³é”®å­—æˆ–è€…ä¸€ä¸ªåˆ†ç±»ç®—æ³•æ¨¡å‹æ¥è¿‡æ»¤å‡ºæˆ‘ä»¬éœ€è¦çš„ä¸»é¢˜è¯­æ–™ï¼Œæ¯”è¾ƒå¼ºå¤§ã€‚</p>
<h2 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äºŒï¼šé™¤å»æ•°æ®ä¸­éæ–‡æœ¬éƒ¨åˆ†"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äºŒï¼šé™¤å»æ•°æ®ä¸­éæ–‡æœ¬éƒ¨åˆ†" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äºŒï¼šé™¤å»æ•°æ®ä¸­éæ–‡æœ¬éƒ¨åˆ†"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äºŒï¼šé™¤å»æ•°æ®ä¸­éæ–‡æœ¬éƒ¨åˆ†</h2><p>è¿™ä¸€æ­¥ä¸»è¦æ˜¯é’ˆå¯¹æˆ‘ä»¬ç”¨çˆ¬è™«æ”¶é›†çš„è¯­æ–™æ•°æ®ï¼Œç”±äºçˆ¬ä¸‹æ¥çš„å†…å®¹ä¸­æœ‰å¾ˆå¤šhtmlçš„ä¸€äº›æ ‡ç­¾ï¼Œéœ€è¦å»æ‰ã€‚å°‘é‡çš„éæ–‡æœ¬å†…å®¹çš„å¯ä»¥ç›´æ¥ç”¨Pythonçš„æ­£åˆ™è¡¨è¾¾å¼(re)åˆ é™¤, å¤æ‚çš„åˆ™å¯ä»¥ç”¨<a target="_blank" rel="noopener" href="https://www.crummy.com/software/BeautifulSoup/">beautifulsoup</a>æ¥å»é™¤ã€‚å¦å¤–è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„éè‹±æ–‡å­—ç¬¦(non-alpha),ä¹Ÿå¯ä»¥ç”¨Pythonçš„æ­£åˆ™è¡¨è¾¾å¼(re)åˆ é™¤ã€‚</p>
<h3 id="re-æ¨¡å—"><a href="#re-æ¨¡å—" class="headerlink" title="re æ¨¡å—"></a>re æ¨¡å—</h3><p>å‚è€ƒ <a target="_blank" rel="noopener" href="https://songlee24.github.io/2014/09/01/python-library-02/">blog</a>  </p>
<p>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰æ˜¯å­—ç¬¦ä¸²å¤„ç†çš„å¸¸ç”¨å·¥å…·ï¼Œé€šå¸¸è¢«ç”¨æ¥æ£€ç´¢ã€æ›¿æ¢é‚£äº›ç¬¦åˆæŸä¸ªæ¨¡å¼ï¼ˆPatternï¼‰çš„æ–‡æœ¬ã€‚å¾ˆå¤šç¨‹åºè®¾è®¡è¯­è¨€éƒ½æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼ŒåƒPerlã€Javaã€C/C++ã€‚åœ¨ Python ä¸­æ˜¯é€šè¿‡æ ‡å‡†åº“ä¸­çš„ re æ¨¡å— æä¾›å¯¹æ­£åˆ™çš„æ”¯æŒã€‚</p>
<p>å…³äºæ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•å¯ä»¥çœ‹</p>
<ul>
<li><p><a href="https://www.panxiaoxie.cn/2018/04/09/chapter2-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%81%E6%96%87%E6%9C%AC%E6%A0%87%E5%87%86%E5%8C%96%E5%92%8C%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB/">speech and language processing chapter2</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wl_ss/article/details/78241782">æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„*ï¼Œ+ï¼Œï¼Ÿä»¥åŠ\wå’Œ\Wçš„åŒºåˆ«ç­‰å¸¸è§é—®é¢˜çš„æ€»ç»“</a></p>
</li>
</ul>
<h4 id="ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼"><a href="#ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼"></a>ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼</h4><p>re æ¨¡å—æä¾›äº† re.compile() å‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²ç¼–è¯‘æˆ pattern objectï¼Œç”¨äºåŒ¹é…æˆ–æœç´¢ã€‚å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">re.<span class="built_in">compile</span>(pattern, flags=<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>re.compile() è¿˜æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•° flagï¼Œç”¨äºæŒ‡å®šæ­£åˆ™åŒ¹é…çš„æ¨¡å¼ã€‚å…³äºåŒ¹é…æ¨¡å¼ï¼Œåé¢å°†ä¼šè®²åˆ°ã€‚</p>
<h4 id="åæ–œæ çš„å›°æ‰°"><a href="#åæ–œæ çš„å›°æ‰°" class="headerlink" title="åæ–œæ çš„å›°æ‰°"></a>åæ–œæ çš„å›°æ‰°</h4><p>åœ¨ python çš„å­—ç¬¦ä¸²ä¸­ï¼Œ\ æ˜¯è¢«å½“åšè½¬ä¹‰å­—ç¬¦çš„ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œ\ ä¹Ÿæ˜¯è¢«å½“åšè½¬ä¹‰å­—ç¬¦ã€‚è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä½ è¦åŒ¹é… \ å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼ é€’ç»™ re.compile() çš„å­—ç¬¦ä¸²å¿…é¡»æ˜¯ <code>â€\\\\â€œ</code>ã€‚</p>
<p>ç”±äºå­—ç¬¦ä¸²çš„è½¬ä¹‰ï¼Œæ‰€ä»¥å®é™…ä¼ é€’ç»™ re.compile() çš„æ˜¯ <code>â€\\â€œ</code>ï¼Œç„¶åå†é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼çš„è½¬ä¹‰ï¼Œ<code>â€\\â€œ</code> ä¼šåŒ¹é…åˆ°å­—ç¬¦â€\â€œã€‚è¿™æ ·è™½ç„¶å¯ä»¥æ­£ç¡®åŒ¹é…åˆ°å­—ç¬¦ \ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“æ¼å†™åæ–œæ è€Œå¯¼è‡´ Bugã€‚é‚£ä¹ˆæœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ</p>
<p>åŸå§‹å­—ç¬¦ä¸²å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ ä¸€ä¸ªrï¼Œè¡¨ç¤ºåŸå§‹å­—ç¬¦ä¸²ï¼Œä¸è®©å­—ç¬¦ä¸²çš„åæ–œæ å‘ç”Ÿè½¬ä¹‰ã€‚é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨<code>r&quot;\\\\&quot;</code>æ¥åŒ¹é…å­—ç¬¦ <code>\</code>äº†ã€‚</p>
<h3 id="patern-object-æ‰§è¡ŒåŒ¹é…"><a href="#patern-object-æ‰§è¡ŒåŒ¹é…" class="headerlink" title="patern object æ‰§è¡ŒåŒ¹é…"></a>patern object æ‰§è¡ŒåŒ¹é…</h3><p>ä¸€æ—¦ä½ ç¼–è¯‘å¾—åˆ°äº†ä¸€ä¸ª pattern objectï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ pattern object çš„æ–¹æ³•æˆ–å±æ€§è¿›è¡ŒåŒ¹é…äº†ï¼Œä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼Œæ›´å¤šè¯·çœ‹<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/re.html#regular-expression-objects">è¿™é‡Œ</a>ã€‚</p>
<p><code>Pattern.match(string[, pos[, endpos]])</code></p>
<ul>
<li><p>åŒ¹é…ä» pos åˆ° endpos çš„å­—ç¬¦å­ä¸²çš„å¼€å¤´ã€‚åŒ¹é…æˆåŠŸè¿”å›ä¸€ä¸ª match objectï¼Œä¸åŒ¹é…è¿”å› Noneã€‚  </p>
</li>
<li><p>pos çš„é»˜è®¤å€¼æ˜¯0ï¼Œendpos çš„é»˜è®¤å€¼æ˜¯ len(string)ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹æ˜¯åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">&quot;d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pattern.match(<span class="string">&#x27;dog&#x27;</span>))  <span class="comment"># åœ¨å­—ä¸²å¼€å¤´ï¼ŒåŒ¹é…æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pattern.match(<span class="string">&#x27;god&#x27;</span>))  <span class="comment"># ä¸å†å­ä¸²å¼€å¤´ï¼ŒåŒ¹é…ä¸æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pattern.match(<span class="string">&#x27;ddaa&#x27;</span>, <span class="number">1</span>,<span class="number">5</span>)) <span class="comment"># åœ¨å­ä¸²å¼€å¤´,åŒ¹é…æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pattern.match(<span class="string">&#x27;monday&#x27;</span>, <span class="number">3</span>))  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match object; span=(0, 1), match=&#x27;d&#x27;&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match object; span=(0, 1), match=&#x27;g&#x27;&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match object; span=(1, 2), match=&#x27;d&#x27;&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match object; span=(3, 4), match=&#x27;d&#x27;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>regex.search(string[, pos[, endpos]])</code></p>
<ul>
<li><p>æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å®ƒæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåŒ¹é…  </p>
</li>
<li><p>å’Œ regex.match() ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ pos å’Œ endpos æŒ‡å®šèŒƒå›´</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">&quot;ar&#123;1&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">match = pattern.search(<span class="string">&quot;marray&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(match)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">1</span>, <span class="number">3</span>), match=<span class="string">&#x27;ar&#x27;</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><code>regex.findall(string[, pos[, endpos]])</code></p>
<ul>
<li><p>æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„å­ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ª list    </p>
</li>
<li><p>å¯é€‰å‚æ•° pos å’Œ endpos å’Œä¸Šé¢ä¸€æ ·  </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;\d+&quot;</span>) <span class="comment"># åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ•°å­—</span></span><br><span class="line"></span><br><span class="line">lst = pattern.findall(<span class="string">&quot;abc1def2rst3xyz&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(lst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>regex.finditer(string[, pos[, endpos]])</code></p>
<ul>
<li><p>æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„å­ä¸²ï¼Œå¹¶è¿”å›ç”±è¿™äº›åŒ¹é…ç»“æœï¼ˆmatch objectï¼‰ç»„æˆçš„è¿­ä»£å™¨  </p>
</li>
<li><p>å¯é€‰å‚æ•° pos å’Œ endpos å’Œä¸Šé¢ä¸€æ ·ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;\d+&quot;</span>)</span><br><span class="line"></span><br><span class="line">p = pattern.finditer(<span class="string">&quot;abc1def2rst3xyz&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> p:</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">3</span>, <span class="number">4</span>), match=<span class="string">&#x27;1&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">7</span>, <span class="number">8</span>), match=<span class="string">&#x27;2&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">11</span>, <span class="number">12</span>), match=<span class="string">&#x27;3&#x27;</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="match-object-è·å–ç»“æœ"><a href="#match-object-è·å–ç»“æœ" class="headerlink" title="match object è·å–ç»“æœ"></a>match object è·å–ç»“æœ</h4><p>åœ¨ä¸Šé¢è®²åˆ°ï¼Œé€šè¿‡ pattern object çš„æ–¹æ³•ï¼ˆé™¤ findall å¤–ï¼‰è¿›è¡ŒåŒ¹é…å¾—åˆ°çš„è¿”å›ç»“æœéƒ½æ˜¯ match objectã€‚æ¯ä¸€ä¸ª match object éƒ½åŒ…å«äº†åŒ¹é…åˆ°çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼Œèµ·å§‹ä½ç½®ã€åŒ¹é…åˆ°çš„å­ä¸²ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä» match object ä¸­æå–è¿™äº›ä¿¡æ¯å‘¢ï¼Ÿ</p>
<p><code>match.group([group1, ...])ï¼š</code></p>
<ul>
<li><p>è¿”å› match object ä¸­çš„å­—ç¬¦ä¸²ã€‚      </p>
</li>
<li><p>æ¯ä¸€ä¸ª ( ) éƒ½æ˜¯ä¸€ä¸ªåˆ†ç»„ï¼Œåˆ†ç»„ç¼–å·ä»1å¼€å§‹ï¼Œä»å·¦å¾€å³ï¼Œæ¯é‡åˆ°ä¸€ä¸ªå·¦æ‹¬å·ï¼Œåˆ†ç»„ç¼–å·+1ã€‚   </p>
</li>
<li><p>ç»„ 0 æ€»æ˜¯å­˜åœ¨çš„ï¼Œå®ƒå°±æ˜¯æ•´ä¸ªè¡¨è¾¾å¼  </p>
</li>
<li><p>æ²¡æœ‰å‚æ•°æ—¶ï¼Œgroup1é»˜è®¤ä¸º0ï¼Œè¿™æ—¶è¿”å›æ•´ä¸ªåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚  </p>
</li>
<li><p>æŒ‡å®šä¸€ä¸ªå‚æ•°ï¼ˆæ•´æ•°ï¼‰æ—¶ï¼Œè¿”å›è¯¥åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚  </p>
</li>
<li><p>æŒ‡å®šå¤šä¸ªå‚æ•°æ—¶ï¼Œè¿”å›ç”±é‚£å‡ ä¸ªåˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ç»„æˆçš„ tupleã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>) <span class="comment"># \w åŒ¹é…ä»»æ„å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿</span></span><br><span class="line"></span><br><span class="line">m = pattern.match(<span class="string">&quot;He _ Kobe Bryant, Lakers player&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.group())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.group(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.group(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.group(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">4</span>), match=<span class="string">&#x27;He _&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">He _</span><br><span class="line"></span><br><span class="line">He</span><br><span class="line"></span><br><span class="line">_</span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;He&#x27;</span>, <span class="string">&#x27;_&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<p><code>match.groups()</code></p>
<ul>
<li>è¿”å›ç”±æ‰€æœ‰åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ç»„æˆçš„ tupleã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">m = re.match(<span class="string">r&quot;(\d+)\.(\d+)&quot;</span>, <span class="string">&#x27;24.163&#x27;</span>)</span><br><span class="line"></span><br><span class="line">m.groups()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;163&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>match.start([group])</code></p>
<ul>
<li><p>æ²¡æœ‰å‚æ•°æ—¶ï¼Œè¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ã€‚  </p>
</li>
<li><p>æŒ‡å®šå‚æ•°ï¼ˆæ•´æ•°ï¼‰æ—¶ï¼Œè¿”å›è¯¥åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.match(<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.start())       <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.start(<span class="number">2</span>))      <span class="comment"># 5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>match.end([group])ï¼š</code></p>
<ul>
<li><p>æ²¡æœ‰å‚æ•°æ—¶ï¼Œè¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚  </p>
</li>
<li><p>æŒ‡å®šå‚æ•°ï¼ˆæ•´æ•°ï¼‰æ—¶ï¼Œè¿”å›è¯¥åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚  </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.match(<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.end())       <span class="comment"># 11</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.end(<span class="number">1</span>))      <span class="comment"># 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>match.span([group])ï¼š</code></p>
<ul>
<li><p>è¿”å›ä¸€ä¸ªäºŒå…ƒ tuple è¡¨ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„èŒƒå›´ï¼Œå³ (start, end)ã€‚  </p>
</li>
<li><p>æŒ‡å®šå‚æ•°æ—¶ï¼Œè¿”å›è¯¥åˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„ (start, end)ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.match(<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.span())     <span class="comment"># (0, 11)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m.span(<span class="number">2</span>))    <span class="comment"># (5, 11)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="æ¨¡å—çº§åˆ«çš„å‡½æ•°"><a href="#æ¨¡å—çº§åˆ«çš„å‡½æ•°" class="headerlink" title="æ¨¡å—çº§åˆ«çš„å‡½æ•°"></a>æ¨¡å—çº§åˆ«çš„å‡½æ•°</h3><p>ä¸Šé¢è®²åˆ°çš„å‡½æ•°éƒ½æ˜¯å¯¹è±¡çš„æ–¹æ³•ï¼Œè¦ä½¿ç”¨å®ƒä»¬å¿…é¡»å…ˆå¾—åˆ°ç›¸åº”çš„å¯¹è±¡ã€‚æœ¬èŠ‚å°†ä»‹ç»ä¸€äº›Module-Level Functionsï¼Œæ¯”å¦‚ match()ï¼Œsearch()ï¼Œfindall() ç­‰ç­‰ã€‚ä½ ä¸éœ€è¦åˆ›å»ºä¸€ä¸ª pattern object å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™äº›å‡½æ•°ã€‚</p>
<p><code>re.match(pattern, string, flags=0)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.match(<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›¸å½“äº</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m = re.match(<span class="string">r&quot;(\w+) (\w+)&quot;</span>,<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">11</span>), match=<span class="string">&#x27;Kobe Bryant&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">11</span>), match=<span class="string">&#x27;Kobe Bryant&#x27;</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.search(<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›¸å½“äº</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m = re.search(<span class="string">r&quot;(\w+) (\w+)&quot;</span>,<span class="string">&quot;Kobe Bryant, Lakers&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">11</span>), match=<span class="string">&#x27;Kobe Bryant&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">11</span>), match=<span class="string">&#x27;Kobe Bryant&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>re.findall(pattern, string, flags=0)</code>:ä¸ä¸Šé¢ç±»ä¼¼ã€‚</p>
<p><code>re.finditer(pattern, string, flags=0)</code>:ä¸ä¸Šé¢ç±»ä¼¼</p>
<h3 id="ç¼–è¯‘æ ‡å¿—ï¼ˆåŒ¹é…æ¨¡å¼ï¼‰"><a href="#ç¼–è¯‘æ ‡å¿—ï¼ˆåŒ¹é…æ¨¡å¼ï¼‰" class="headerlink" title="ç¼–è¯‘æ ‡å¿—ï¼ˆåŒ¹é…æ¨¡å¼ï¼‰"></a>ç¼–è¯‘æ ‡å¿—ï¼ˆåŒ¹é…æ¨¡å¼ï¼‰</h3><ul>
<li>re.IGNORECASEï¼šå¿½ç•¥å¤§å°å†™ï¼ŒåŒ re.Iã€‚  </li>
</ul>
<ul>
<li>re.MULTILINEï¼šå¤šè¡Œæ¨¡å¼ï¼Œæ”¹å˜^å’Œ$çš„è¡Œä¸ºï¼ŒåŒ re.Mã€‚  </li>
</ul>
<ul>
<li>re.DOTALLï¼šç‚¹ä»»æ„åŒ¹é…æ¨¡å¼ï¼Œè®©â€™.â€™å¯ä»¥åŒ¹é…åŒ…æ‹¬â€™\nâ€™åœ¨å†…çš„ä»»æ„å­—ç¬¦ï¼ŒåŒ re.Sã€‚  </li>
</ul>
<ul>
<li>re.LOCALEï¼šä½¿é¢„å®šå­—ç¬¦ç±» \w \W \b \B \s \S å–å†³äºå½“å‰åŒºåŸŸè®¾å®šï¼Œ åŒ re.Lã€‚  </li>
</ul>
<ul>
<li>re.ASCIIï¼šä½¿ \w \W \b \B \s \S åªåŒ¹é… ASCII å­—ç¬¦ï¼Œè€Œä¸æ˜¯ Unicode å­—ç¬¦ï¼ŒåŒ re.Aã€‚  </li>
</ul>
<ul>
<li>re.VERBOSEï¼šè¯¦ç»†æ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼ä¸‹æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ˜¯å¤šè¡Œï¼Œå¿½ç•¥ç©ºç™½å­—ç¬¦ï¼Œå¹¶å¯ä»¥åŠ å…¥æ³¨é‡Šã€‚ä¸»è¦æ˜¯ä¸ºäº†è®©æ­£åˆ™è¡¨è¾¾å¼æ›´æ˜“è¯»ï¼ŒåŒ re.Xã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a = re.<span class="built_in">compile</span>(<span class="string">r&quot;\d + \. \d *#re.X&quot;</span>) the integral part</span><br><span class="line"></span><br><span class="line">b = re.<span class="built_in">compile</span>(<span class="string">r&quot;\d+\.\d*&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.match(<span class="string">&quot;123.45&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">6</span>), match=<span class="string">&#x27;123.45&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="ä¿®æ”¹å­—ç¬¦ä¸²"><a href="#ä¿®æ”¹å­—ç¬¦ä¸²" class="headerlink" title="ä¿®æ”¹å­—ç¬¦ä¸²"></a>ä¿®æ”¹å­—ç¬¦ä¸²</h3><p>ç¬¬äºŒéƒ¨åˆ†è®²çš„æ˜¯å­—ç¬¦ä¸²çš„åŒ¹é…å’Œæœç´¢ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ”¹å˜å­—ç¬¦ä¸²ã€‚ä¸‹é¢å°±è®²ä¸€ä¸‹å¯ä»¥æ”¹å˜å­—ç¬¦ä¸²çš„æ“ä½œã€‚</p>
<h4 id="åˆ†å‰²å­—ç¬¦ä¸²"><a href="#åˆ†å‰²å­—ç¬¦ä¸²" class="headerlink" title="åˆ†å‰²å­—ç¬¦ä¸²"></a>åˆ†å‰²å­—ç¬¦ä¸²</h4><p>split()å‡½æ•°åœ¨åŒ¹é…çš„åœ°æ–¹å°†å­—ç¬¦ä¸²åˆ†å‰²ï¼Œå¹¶è¿”å›ä¸€ä¸ª listã€‚åŒæ ·çš„ï¼Œre æ¨¡å—æä¾›äº†ä¸¤ç§ split å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯ pattern object çš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯æ¨¡å—çº§çš„å‡½æ•°ã€‚</p>
<p><code>regex.split(string, maxsplit=0)ï¼š</code></p>
<ul>
<li>maxsplitç”¨äºæŒ‡å®šæœ€å¤§åˆ†å‰²æ¬¡æ•°ï¼Œä¸æŒ‡å®šå°†å…¨éƒ¨åˆ†å‰²ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;[A-Z]+&quot;</span>)</span><br><span class="line"></span><br><span class="line">m = pattern.split(<span class="string">&quot;abcDefgHijkLmnoPqrs&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;efg&#x27;</span>, <span class="string">&#x27;ijk&#x27;</span>, <span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;qrs&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><code>re.split(pattern, string, maxsplit=0, flags=0)ï¼š</code></p>
<ul>
<li><p>æ¨¡å—çº§å‡½æ•°ï¼ŒåŠŸèƒ½ä¸ regex.split() ç›¸åŒã€‚  </p>
</li>
<li><p>flagsç”¨äºæŒ‡å®šåŒ¹é…æ¨¡å¼ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">m = re.split(<span class="string">r&quot;[A-Z]+&quot;</span>,<span class="string">&quot;abcDefgHijkLmnoPqrs&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;efg&#x27;</span>, <span class="string">&#x27;ijk&#x27;</span>, <span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;qrs&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="æœç´¢ä¸æ›¿æ¢"><a href="#æœç´¢ä¸æ›¿æ¢" class="headerlink" title="æœç´¢ä¸æ›¿æ¢"></a>æœç´¢ä¸æ›¿æ¢</h4><p>å¦ä¸€ä¸ªå¸¸ç”¨çš„åŠŸèƒ½æ˜¯æ‰¾åˆ°æ‰€æœ‰çš„åŒ¹é…ï¼Œå¹¶æŠŠå®ƒä»¬ç”¨ä¸åŒçš„å­—ç¬¦ä¸²æ›¿æ¢ã€‚re æ¨¡å—æä¾›äº†sub()å’Œsubn()æ¥å®ç°æ›¿æ¢çš„åŠŸèƒ½ï¼Œè€Œå®ƒä»¬ä¹Ÿåˆ†åˆ«æœ‰è‡ªå·±ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„å‡½æ•°ã€‚</p>
<p><code>regex.sub(repl, string, count=0)ï¼š</code></p>
<ul>
<li><p>ä½¿ç”¨ repl æ›¿æ¢ string ä¸­æ¯ä¸€ä¸ªåŒ¹é…çš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚è‹¥æ‰¾ä¸åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>repl å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
</li>
<li><p>å½“replæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œä»»ä½•åœ¨å…¶ä¸­çš„åæ–œæ éƒ½ä¼šè¢«å¤„ç†ã€‚</p>
</li>
<li><p>å½“replæ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¿™ä¸ªå‡½æ•°åº”å½“åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆpatternå¯¹è±¡ï¼‰ï¼Œå¯¹åŒ¹é…åˆ°çš„å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œç„¶åè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç”¨äºæ›¿æ¢ã€‚</p>
</li>
<li><p>count ç”¨äºæŒ‡å®šæœ€å¤šæ›¿æ¢æ¬¡æ•°ï¼Œä¸æŒ‡å®šæ—¶å…¨éƒ¨æ›¿æ¢ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;like&quot;</span>, re.I)</span><br><span class="line"></span><br><span class="line">s1 = pattern.sub(<span class="string">r&quot;love&quot;</span>, <span class="string">&quot;I like you, do you like me?&quot;</span>)</span><br><span class="line"></span><br><span class="line">s2 = pattern.sub(<span class="keyword">lambda</span> m:m.group().upper(), <span class="string">&quot;I like you, do you like me?&quot;</span>)  <span class="comment"># repl æ˜¯å‡½æ•°ï¼Œå…¶å‚æ•°æ˜¯ pattern</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">I love you, do you love me?</span><br><span class="line"></span><br><span class="line">I LIKE you, do you LIKE me?</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<p><code>re.sub(pattern, repl, string, count=0, flags=0)</code>ï¼š</p>
<ul>
<li><p>æ¨¡å—çº§å‡½æ•°ï¼Œä¸ regex.sub() å‡½æ•°åŠŸèƒ½ç›¸åŒã€‚  </p>
</li>
<li><p>flags ç”¨äºæŒ‡å®šåŒ¹é…æ¨¡å¼ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">s1 = re.sub(<span class="string">r&quot;(\w)&#x27;s\b&quot;</span>, <span class="string">r&quot;\1 is&quot;</span>, <span class="string">&quot;She&#x27;s Xie Pan&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">She <span class="keyword">is</span> Xie Pan</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>regex.subn(repl, string, count=0)</code></p>
<ul>
<li>åŒ sub()ï¼Œåªä¸è¿‡è¿”å›å€¼æ˜¯ä¸€ä¸ªäºŒå…ƒ tupleï¼Œå³(subå‡½æ•°è¿”å›å€¼, æ›¿æ¢æ¬¡æ•°)ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;like&quot;</span>, re.I)</span><br><span class="line"></span><br><span class="line">s1 = pattern.subn(<span class="string">r&quot;love&quot;</span>, <span class="string">&quot;I like you, do you like me?&quot;</span>)</span><br><span class="line"></span><br><span class="line">s2 = pattern.subn(<span class="keyword">lambda</span> m:m.group().upper(), <span class="string">&quot;I like you, do you like me?&quot;</span>)  <span class="comment"># repl æ˜¯å‡½æ•°ï¼Œå…¶å‚æ•°æ˜¯ pattern</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;I love you, do you love me?&#x27;</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;I LIKE you, do you LIKE me?&#x27;</span>, <span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<p><code>re.subn(pattern, repl, string, count=0, flags=0)ï¼š</code></p>
<ul>
<li>åŒä¸Š</li>
</ul>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸‰ï¼šæ‹¼å†™æ£€æŸ¥"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸‰ï¼šæ‹¼å†™æ£€æŸ¥" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸‰ï¼šæ‹¼å†™æ£€æŸ¥"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸‰ï¼šæ‹¼å†™æ£€æŸ¥</h3><p>ç”±äºè‹±æ–‡æ–‡æœ¬ä¸­å¯èƒ½æœ‰æ‹¼å†™é”™è¯¯ï¼Œå› æ­¤ä¸€èˆ¬éœ€è¦è¿›è¡Œæ‹¼å†™æ£€æŸ¥ã€‚å¦‚æœç¡®ä¿¡æˆ‘ä»¬åˆ†æçš„æ–‡æœ¬æ²¡æœ‰æ‹¼å†™é—®é¢˜ï¼Œå¯ä»¥ç•¥å»æ­¤æ­¥ã€‚</p>
<p>æ‹¼å†™æ£€æŸ¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨pyenchantç±»åº“å®Œæˆã€‚pyenchantçš„å®‰è£…å¾ˆç®€å•ï¼šâ€pip install pyenchantâ€å³å¯ã€‚</p>
<p>å¯¹äºä¸€æ®µæ–‡æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼å»æ‰¾å‡ºæ‹¼å†™é”™è¯¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å‘ç°è¿™æ ·å®‰è£…å¹¶ä¸æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹ï¼Œéœ€è¦å»ç»ˆç«¯å¯¹åº”çš„è™šæ‹Ÿç¯å¢ƒä¸‹å®‰è£…</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># source avtivate NLP</span></span><br><span class="line"></span><br><span class="line">!pip install pyenchant</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<pre><code>/bin/sh: 1: source: not found

Requirement already satisfied: pyenchant in /home/panxie/anaconda3/lib/python3.6/site-packages (2.0.0)

[31mdistributed 1.21.8 requires msgpack, which is not installed.[0m

[33mYou are using pip version 10.0.1, however version 18.0 is available.

You should consider upgrading via the &#39;pip install --upgrade pip&#39; command.[0m
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> enchant.checker <span class="keyword">import</span> SpellChecker</span><br><span class="line"></span><br><span class="line">chkr = SpellChecker(<span class="string">&#x27;en_US&#x27;</span>)</span><br><span class="line"></span><br><span class="line">chkr.set_text(<span class="string">&quot;Many peopel like too watch In the Name of people&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> err <span class="keyword">in</span> chkr:</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ERROR:&quot;</span>, err.word)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ERROR: peopel</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å‘ç°åªèƒ½æ‰¾å•è¯æ‹¼å†™é”™è¯¯çš„ï¼Œä½† too è¿™æ ·çš„æ˜¯æ²¡åŠæ³•æ‰¾å‡ºçš„ã€‚æ‰¾å‡ºé”™è¯¯åï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ¥å†³å®šæ˜¯å¦è¦æ”¹æ­£ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨pyenchantä¸­çš„wxSpellCheckerDialogç±»æ¥ç”¨å¯¹è¯æ¡†çš„å½¢å¼æ¥äº¤äº’å†³å®šæ˜¯å¿½ç•¥ï¼Œæ”¹æ­£è¿˜æ˜¯å…¨éƒ¨æ”¹æ­£æ–‡æœ¬ä¸­çš„é”™è¯¯æ‹¼å†™ã€‚  </p>
<p>æ›´å¤šæ“ä½œå¯å‚è€ƒï¼š  </p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/96c01666aeeb">https://www.jianshu.com/p/96c01666aeeb</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://pythonhosted.org/pyenchant/tutorial.html">https://pythonhosted.org/pyenchant/tutorial.html</a></p>
</li>
</ul>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å››ï¼šè¯å¹²æå–-stemming-å’Œè¯å½¢è¿˜åŸ-lemmatization"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å››ï¼šè¯å¹²æå–-stemming-å’Œè¯å½¢è¿˜åŸ-lemmatization" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å››ï¼šè¯å¹²æå–(stemming)å’Œè¯å½¢è¿˜åŸ(lemmatization)"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å››ï¼šè¯å¹²æå–(stemming)å’Œè¯å½¢è¿˜åŸ(lemmatization)</h3><p>è¯å¹²æå–(stemming)å’Œè¯å‹è¿˜åŸ(lemmatization)æ˜¯è‹±æ–‡æ–‡æœ¬é¢„å¤„ç†çš„ç‰¹è‰²ã€‚ä¸¤è€…å…¶å®æœ‰å…±åŒç‚¹ï¼Œå³éƒ½æ˜¯è¦æ‰¾åˆ°è¯çš„åŸå§‹å½¢å¼ã€‚åªä¸è¿‡è¯å¹²æå–(stemming)ä¼šæ›´åŠ æ¿€è¿›ä¸€ç‚¹ï¼Œå®ƒåœ¨å¯»æ‰¾è¯å¹²çš„æ—¶å€™å¯ä»¥ä¼šå¾—åˆ°ä¸æ˜¯è¯çš„è¯å¹²ã€‚æ¯”å¦‚â€imagingâ€çš„è¯å¹²å¯èƒ½å¾—åˆ°çš„æ˜¯â€imagâ€, å¹¶ä¸æ˜¯ä¸€ä¸ªè¯ã€‚è€Œè¯å½¢è¿˜åŸåˆ™ä¿å®ˆä¸€äº›ï¼Œå®ƒä¸€èˆ¬åªå¯¹èƒ½å¤Ÿè¿˜åŸæˆä¸€ä¸ªæ­£ç¡®çš„è¯çš„è¯è¿›è¡Œå¤„ç†ã€‚ä¸ªäººæ¯”è¾ƒå–œæ¬¢ä½¿ç”¨è¯å‹è¿˜åŸè€Œä¸æ˜¯è¯å¹²æå–ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ä½¿ç”¨nltkæ¥è¿›è¡Œè¯å¹²æå–å’Œè¯å‹è¿˜åŸã€‚å®‰è£…nltkä¹Ÿå¾ˆç®€å•ï¼Œâ€pip install nltkâ€å³å¯ã€‚åªä¸è¿‡æˆ‘ä»¬ä¸€èˆ¬éœ€è¦ä¸‹è½½nltkçš„è¯­æ–™åº“ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç å®Œæˆï¼Œnltkä¼šå¼¹å‡ºå¯¹è¯æ¡†é€‰æ‹©è¦ä¸‹è½½çš„å†…å®¹ã€‚é€‰æ‹©ä¸‹è½½è¯­æ–™åº“å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"></span><br><span class="line">nltk.download(<span class="string">&#x27;wordnet&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[nltk_data] Downloading package wordnet to /home/panxie/nltk_data...</span><br><span class="line"></span><br><span class="line">[nltk_data]   Unzipping corpora/wordnet.<span class="built_in">zip</span>.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>åœ¨nltkä¸­ï¼Œåšè¯å¹²æå–çš„æ–¹æ³•æœ‰PorterStemmerï¼ŒLancasterStemmerå’ŒSnowballStemmerã€‚ä¸ªäººæ¨èä½¿ç”¨SnowballStemmerã€‚è¿™ä¸ªç±»å¯ä»¥å¤„ç†å¾ˆå¤šç§è¯­è¨€ï¼Œå½“ç„¶ï¼Œé™¤äº†ä¸­æ–‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> SnowballStemmer</span><br><span class="line"></span><br><span class="line">stemmer = SnowballStemmer(<span class="string">&quot;english&quot;</span>)</span><br><span class="line"></span><br><span class="line">stemmer.stem(<span class="string">&quot;countries&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;countri&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¾“å‡ºæ˜¯â€countriâ€,è¿™ä¸ªè¯å¹²å¹¶ä¸æ˜¯ä¸€ä¸ªè¯ã€‚  </p>
<p>è€Œå¦‚æœæ˜¯åšè¯å‹è¿˜åŸï¼Œåˆ™ä¸€èˆ¬å¯ä»¥ä½¿ç”¨WordNetLemmatizerç±»ï¼Œå³wordnetè¯å½¢è¿˜åŸæ–¹æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> nltk.stem <span class="keyword">import</span> WordNetLemmatizer</span><br><span class="line"></span><br><span class="line">wnl = WordNetLemmatizer()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(wnl.lemmatize(<span class="string">&#x27;countries&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">country</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¾“å‡ºæ˜¯â€countryâ€,æ¯”è¾ƒç¬¦åˆéœ€æ±‚ã€‚  </p>
<p>åœ¨å®é™…çš„è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†çš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨åŸºäºwordnetçš„è¯å½¢è¿˜åŸå°±å¯ä»¥äº†ã€‚  </p>
<p>åœ¨<a target="_blank" rel="noopener" href="http://text-processing.com/demo/stem/">è¿™é‡Œ</a>æœ‰ä¸ªè¯å¹²æå–å’Œè¯å‹è¿˜åŸçš„demoï¼Œå¦‚æœæ˜¯è¿™å—çš„æ–°æ‰‹å¯ä»¥å»çœ‹çœ‹ï¼Œä¸Šæ‰‹å¾ˆåˆé€‚ã€‚</p>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äº”ï¼šè½¬åŒ–ä¸ºå°å†™"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äº”ï¼šè½¬åŒ–ä¸ºå°å†™" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äº”ï¼šè½¬åŒ–ä¸ºå°å†™"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†äº”ï¼šè½¬åŒ–ä¸ºå°å†™</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">text = <span class="string">&#x27;XiePan&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(text.lower())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xiepan</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…­ï¼šå¼•å…¥åœç”¨è¯"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…­ï¼šå¼•å…¥åœç”¨è¯" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…­ï¼šå¼•å…¥åœç”¨è¯"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…­ï¼šå¼•å…¥åœç”¨è¯</h3><p>åœ¨è‹±æ–‡æ–‡æœ¬ä¸­æœ‰å¾ˆå¤šæ— æ•ˆçš„è¯ï¼Œæ¯”å¦‚â€œaâ€ï¼Œâ€œtoâ€ï¼Œä¸€äº›çŸ­è¯ï¼Œè¿˜æœ‰ä¸€äº›æ ‡ç‚¹ç¬¦å·ï¼Œè¿™äº›æˆ‘ä»¬ä¸æƒ³åœ¨æ–‡æœ¬åˆ†æçš„æ—¶å€™å¼•å…¥ï¼Œå› æ­¤éœ€è¦å»æ‰ï¼Œè¿™äº›è¯å°±æ˜¯åœç”¨è¯ã€‚ä¸ªäººå¸¸ç”¨çš„è‹±æ–‡åœç”¨è¯è¡¨ä¸‹è½½åœ°å€åœ¨è¿™ã€‚å½“ç„¶ä¹Ÿæœ‰å…¶ä»–ç‰ˆæœ¬çš„åœç”¨è¯è¡¨ï¼Œä¸è¿‡è¿™ä¸ªç‰ˆæœ¬æ˜¯æˆ‘å¸¸ç”¨çš„ã€‚</p>
<p>åœ¨æˆ‘ä»¬ç”¨scikit-learnåšç‰¹å¾å¤„ç†çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡å‚æ•°stop_wordsæ¥å¼•å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºåœç”¨è¯è¡¨ã€‚è¿™ä¸ªæ–¹æ³•å’Œå‰æ–‡è®²ä¸­æ–‡åœç”¨è¯çš„æ–¹æ³•ç›¸åŒï¼Œè¿™é‡Œå°±ä¸å†™å‡ºä»£ç ï¼Œå¤§å®¶å‚è€ƒå‰æ–‡å³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> nltk <span class="keyword">import</span> word_tokenize</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords</span><br><span class="line"></span><br><span class="line">stop = <span class="built_in">set</span>(stopwords.words(<span class="string">&#x27;english&#x27;</span>))  <span class="comment"># åœç”¨è¯</span></span><br><span class="line"></span><br><span class="line">stop.add(<span class="string">&quot;foo&quot;</span>)    <span class="comment"># å¢åŠ ä¸€ä¸ªè¯</span></span><br><span class="line"></span><br><span class="line">stop.remove(<span class="string">&quot;is&quot;</span>)  <span class="comment"># å»æ‰ä¸€ä¸ªè¯</span></span><br><span class="line"></span><br><span class="line">sentence = <span class="string">&quot;this is a foo bar sentence&quot;</span></span><br><span class="line"></span><br><span class="line">[i <span class="keyword">for</span> i <span class="keyword">in</span> word_tokenize(sentence.lower()) <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> stop]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<pre><code>[&#39;is&#39;, &#39;bar&#39;, &#39;sentence&#39;]
</code></pre>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸ƒï¼šç‰¹å¾å¤„ç†"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸ƒï¼šç‰¹å¾å¤„ç†" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸ƒï¼šç‰¹å¾å¤„ç†"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¸ƒï¼šç‰¹å¾å¤„ç†</h3><p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ç”¨scikit-learnæ¥å¯¹æˆ‘ä»¬çš„æ–‡æœ¬ç‰¹å¾è¿›è¡Œå¤„ç†äº†ï¼Œåœ¨<a target="_blank" rel="noopener" href="http://www.cnblogs.com/pinard/p/6688348.html">æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¹‹å‘é‡åŒ–ä¸Hash Trick</a>ä¸­ï¼Œæˆ‘ä»¬è®²åˆ°äº†ä¸¤ç§ç‰¹å¾å¤„ç†çš„æ–¹æ³•ï¼Œå‘é‡åŒ–ä¸Hash Trickã€‚è€Œå‘é‡åŒ–æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒå¯ä»¥æ¥ç€è¿›è¡ŒTF-IDFçš„ç‰¹å¾å¤„ç†ã€‚åœ¨æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†ä¹‹TF-IDFä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè®²åˆ°äº†<a target="_blank" rel="noopener" href="http://www.cnblogs.com/pinard/p/6693230.html">TF-IDFç‰¹å¾å¤„ç†çš„æ–¹æ³•</a>ã€‚</p>
<p>TfidfVectorizerç±»å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå‘é‡åŒ–ï¼ŒTF-IDFå’Œæ ‡å‡†åŒ–ä¸‰æ­¥ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†åœç”¨è¯ã€‚è¿™éƒ¨åˆ†å·¥ä½œå’Œä¸­æ–‡çš„ç‰¹å¾å¤„ç†ä¹Ÿæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¤§å®¶å‚è€ƒå‰æ–‡å³å¯ã€‚</p>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…«ï¼šå»ºç«‹åˆ†ææ¨¡å‹"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…«ï¼šå»ºç«‹åˆ†ææ¨¡å‹" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…«ï¼šå»ºç«‹åˆ†ææ¨¡å‹"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†å…«ï¼šå»ºç«‹åˆ†ææ¨¡å‹</h3><p>æœ‰äº†æ¯æ®µæ–‡æœ¬çš„TF-IDFçš„ç‰¹å¾å‘é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™äº›æ•°æ®å»ºç«‹åˆ†ç±»æ¨¡å‹ï¼Œæˆ–è€…èšç±»æ¨¡å‹äº†ï¼Œæˆ–è€…è¿›è¡Œä¸»é¢˜æ¨¡å‹çš„åˆ†æã€‚æ­¤æ—¶çš„åˆ†ç±»èšç±»æ¨¡å‹å’Œä¹‹å‰è®²çš„éè‡ªç„¶è¯­è¨€å¤„ç†çš„æ•°æ®åˆ†ææ²¡æœ‰ä»€ä¹ˆä¸¤æ ·ã€‚å› æ­¤å¯¹åº”çš„ç®—æ³•éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è€Œä¸»é¢˜æ¨¡å‹æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†æ¯”è¾ƒç‰¹æ®Šçš„ä¸€å—ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢å†å•ç‹¬è®²ã€‚</p>
<h3 id="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†æ€»ç»“"><a href="#è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†æ€»ç»“" class="headerlink" title="è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†æ€»ç»“"></a>è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†æ€»ç»“</h3><p>ä¸Šé¢æˆ‘ä»¬å¯¹è‹±æ–‡æ–‡æœ¬æŒ–æ˜é¢„å¤„ç†çš„è¿‡ç¨‹åšäº†ä¸€ä¸ªæ€»ç»“ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæµç¨‹ä¸»è¦é’ˆå¯¹ä¸€äº›å¸¸ç”¨çš„æ–‡æœ¬æŒ–æ˜ï¼Œå¹¶ä½¿ç”¨äº†è¯è¢‹æ¨¡å‹ï¼Œå¯¹äºæŸä¸€äº›è‡ªç„¶è¯­è¨€å¤„ç†çš„éœ€æ±‚åˆ™æµç¨‹éœ€è¦ä¿®æ”¹ã€‚æ¯”å¦‚æœ‰æ—¶å€™éœ€è¦åšè¯æ€§æ ‡æ³¨ï¼Œè€Œæœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿéœ€è¦è‹±æ–‡åˆ†è¯ï¼Œæ¯”å¦‚å¾—åˆ°â€New Yorkâ€è€Œä¸æ˜¯â€œNewâ€å’Œâ€œYorkâ€ï¼Œå› æ­¤è¿™ä¸ªæµç¨‹ä»…ä¾›è‡ªç„¶è¯­è¨€å¤„ç†å…¥é—¨è€…å‚è€ƒï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„æ•°æ®åˆ†æç›®çš„é€‰æ‹©åˆé€‚çš„é¢„å¤„ç†æ–¹æ³•ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-08-07T01:28:38.000Z" title="2018/8/7 ä¸Šåˆ9:28:38">2018-08-07</time>å‘è¡¨</span><span class="level-item"><time dateTime="2021-06-29T08:12:08.200Z" title="2021/6/29 ä¸‹åˆ4:12:08">2021-06-29</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/ML/">ML</a></span><span class="level-item">19 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2853ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/">æœºå™¨å­¦ä¹ -å¸¸ç”¨æŒ‡æ ‡æ€»ç»“</a></h1><div class="content"><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul>
<li><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/maybe2030/p/5375175.html#_label0">http://www.cnblogs.com/maybe2030/p/5375175.html#_label0</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://alexkong.net/2013/06/introduction-to-auc-and-roc/">http://alexkong.net/2013/06/introduction-to-auc-and-roc/</a></p>
</li>
</ul>
<h2 id="ç²¾ç¡®ç‡-Precision-å¬å›ç‡-Recall-å’Œ-F1-å€¼"><a href="#ç²¾ç¡®ç‡-Precision-å¬å›ç‡-Recall-å’Œ-F1-å€¼" class="headerlink" title="ç²¾ç¡®ç‡ Precision, å¬å›ç‡ Recall å’Œ F1 å€¼"></a>ç²¾ç¡®ç‡ Precision, å¬å›ç‡ Recall å’Œ F1 å€¼</h2><p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb10.png"></p>
<p>å¯¹äºæ•°æ®ä¸å‡è¡¡æ—¶ï¼Œä½¿ç”¨accuracyæ˜¯ä¸å‡†ç¡®çš„ã€‚</p>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<p>a million tweet: 999,900æ¡ä¸æ˜¯å…³äºpieçš„ï¼Œåªæœ‰100æ¡æ˜¯å…³äºpieçš„</p>
<p>å¯¹äºä¸€ä¸ªstupidåˆ†ç±»å™¨ï¼Œä»–è®¤ä¸ºæ‰€æœ‰çš„tweetéƒ½æ˜¯è·Ÿpieæ— å…³çš„ï¼Œé‚£ä¹ˆå®ƒçš„å‡†ç¡®ç‡æ˜¯99.99%ï¼ä½†è¿™ä¸ªåˆ†ç±»å™¨æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› è€Œaccuracyä¸æ˜¯ä¸€ä¸ªå¥½çš„metricï¼Œå½“å®ƒç›®æ ‡æ˜¯rareï¼Œæˆ–æ˜¯complete unbalanced.</p>
<p>å¼•å…¥å¦å¤–ä¸¤ä¸ªæŒ‡æ ‡ï¼š</p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb11.png"></p>
<ul>
<li><strong>ç²¾åº¦ precision:</strong> æ˜¯æ£€ç´¢å‡ºæ¥çš„æ¡ç›®ï¼ˆæ¯”å¦‚ï¼šæ–‡æ¡£ã€ç½‘é¡µç­‰ï¼‰æœ‰å¤šå°‘æ˜¯å‡†ç¡®çš„ã€‚ç²¾åº¦æ˜¯æ£€ç´¢å‡ºç›¸å…³æ–‡æ¡£æ•°ä¸æ£€ç´¢å‡ºçš„æ–‡æ¡£æ€»æ•°çš„æ¯”ç‡ï¼Œè¡¡é‡çš„æ˜¯æ£€ç´¢ç³»ç»Ÿçš„æŸ¥å‡†ç‡ã€‚  </li>
</ul>
<ul>
<li><strong>å¬å› callï¼š</strong> å¬å›ç‡æ˜¯æŒ‡æ£€ç´¢å‡ºçš„ç›¸å…³æ–‡æ¡£æ•°å’Œæ–‡æ¡£åº“ä¸­æ‰€æœ‰çš„ç›¸å…³æ–‡æ¡£æ•°çš„æ¯”ç‡ï¼Œè¡¡é‡çš„æ˜¯æ£€ç´¢ç³»ç»Ÿçš„æŸ¥å…¨ç‡.</li>
</ul>
<p><strong>éœ€è¦å…ˆç¡®å®šä¸€ä¸ªæ­£åˆ†ç±»ï¼š</strong> è¿™é‡Œéœ€è¦æ£€ç´¢å‡ºæ¥çš„æ˜¯ä¸ pie æ— å…³çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ pie æ— å…³çš„æ˜¯æ­£åˆ†ç±»ã€‚é‚£ä¹ˆç²¾åº¦å°±æ˜¯åˆ†ç±»å™¨æ£€æµ‹å‡ºæ¥çš„æ­£åˆ†ç±»ä¸­ gold pos æ‰€å çš„æ¯”ä¾‹ï¼Œé‚£ä¹ˆ precision = 0/(0+0)</p>
<p>è¿™é‡Œéœ€è¦æ£€ç´¢çš„æ˜¯ä¸ pie æ— å…³çš„ï¼Œæ£€ç´¢å‡ºæ¥çš„ true pos å æ ·æœ¬ä¸­ gold pos çš„æ¯”ä¾‹ï¼Œé‚£ä¹ˆ recall = 0/(100+0) = 0.</p>
<p>æ€»ç»“ä¸‹æ¥ï¼Œprecision å’Œ recall éƒ½æ˜¯ä»¥ true pos ä½œä¸ºåˆ†å­ï¼Œprecision æ˜¯ä»¥åˆ†ç±»å™¨é¢„æµ‹å‡ºæ¥çš„ pos(true pos + false neg) ä½œä¸ºåˆ†æ¯ï¼Œæ‰€ä»¥æ˜¯å·®å‡†ç‡. recall åˆ™æ˜¯ä»¥æ€»çš„ gold pos(true pos + false neg) ä½œä¸ºåˆ†æ¯ï¼Œæ‰€ä»¥æ˜¯æŸ¥å…¨ç‡ã€‚</p>
<p>å½“ç„¶å¸Œæœ›æ£€ç´¢ç»“æœPrecisionè¶Šé«˜è¶Šå¥½ï¼ŒåŒæ—¶Recallä¹Ÿè¶Šé«˜è¶Šå¥½ï¼Œä½†äº‹å®ä¸Šè¿™ä¸¤è€…åœ¨æŸäº›æƒ…å†µä¸‹æœ‰çŸ›ç›¾çš„ã€‚æ¯”å¦‚æç«¯æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæœç´¢å‡ºäº†ä¸€ä¸ªç»“æœï¼Œä¸”æ˜¯å‡†ç¡®çš„ï¼Œé‚£ä¹ˆPrecisionå°±æ˜¯100%ï¼Œä½†æ˜¯Recallå°±å¾ˆä½ï¼›è€Œå¦‚æœæˆ‘ä»¬æŠŠæ‰€æœ‰ç»“æœéƒ½è¿”å›ï¼Œé‚£ä¹ˆæ¯”å¦‚Recallæ˜¯100%ï¼Œä½†æ˜¯Precisionå°±ä¼šå¾ˆä½ã€‚å› æ­¤åœ¨ä¸åŒçš„åœºåˆä¸­éœ€è¦è‡ªå·±åˆ¤æ–­å¸Œæœ›Precisionæ¯”è¾ƒé«˜æˆ–æ˜¯Recallæ¯”è¾ƒé«˜ã€‚å¦‚æœæ˜¯åšå®éªŒç ”ç©¶ï¼Œå¯ä»¥ç»˜åˆ¶Precision-Recallæ›²çº¿æ¥å¸®åŠ©åˆ†æã€‚</p>
<p><strong>ï¼¦-measure</strong>  </p>
<p>$$F_{\beta}=\dfrac{(\beta^2+1)PR}{\beta^2P+R}$$</p>
<p>å½“ $\beta&gt;1$æ—¶ï¼ŒRecallçš„æ¯”é‡æ›´å¤§;å½“ $\beta&lt;1$æ—¶ï¼Œprecisionçš„æ¯”é‡æ›´å¤§ã€‚ä½¿ç”¨æœ€å¤šçš„æ˜¯ $\beta=1$,ä¹Ÿå°±æ˜¯ $F_{\beta=1}, F_1$. $\beta$ çš„çš„å–å€¼å–å†³äºå®é™…åº”ç”¨ã€‚</p>
<p>$$F_1 = \dfrac{2PR}{P+R}$$</p>
<p>ï¼¦-measure æ˜¯ precision å’Œ recall çš„ **åŠ æƒè°ƒå’Œå¹³å‡å€¼(weighted harmonic mean)**ã€‚</p>
<p>è°ƒå’Œå¹³å‡å€¼æ˜¯å€’æ•°çš„ç®—æœ¯å¹³å‡å€¼çš„å€’æ•°ã€‚</p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb12.png"></p>
<p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è°ƒå’Œå¹³å‡å€¼å‘¢ï¼Ÿå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ›´ <strong>ä¿å®ˆçš„åº¦é‡(conservative metric)</strong>. ç›¸æ¯”ç›´æ¥è®¡ç®— P å’Œ R çš„å¹³å‡å€¼ï¼Œ F-measureçš„å€¼æ›´çœ‹é‡ä¸¤è€…ä¸­çš„è¾ƒå°å€¼ã€‚</p>
<h2 id="ROCæ›²çº¿å’ŒAUC"><a href="#ROCæ›²çº¿å’ŒAUC" class="headerlink" title="ROCæ›²çº¿å’ŒAUC"></a>ROCæ›²çº¿å’ŒAUC</h2><p>è€ƒè™‘ä¸€ä¸ªäºŒåˆ†é—®é¢˜ï¼Œå³å°†å®ä¾‹åˆ†æˆæ­£ç±»ï¼ˆpositiveï¼‰æˆ–è´Ÿç±»ï¼ˆnegativeï¼‰ã€‚</p>
<ul>
<li><p><strong>TPR, çœŸæ­£ç±»ç‡(true positive rate ,TPR),ï¼š</strong> å¦‚æœä¸€ä¸ªå®ä¾‹æ˜¯æ­£ç±»å¹¶ä¸”ä¹Ÿè¢« é¢„æµ‹æˆæ­£ç±»ï¼Œå³ä¸ºçœŸæ­£ç±»ï¼ˆTrue positiveï¼‰ï¼ŒçœŸæ­£ç±»ç‡æ˜¯æŒ‡åˆ†ç±»å™¨æ‰€è¯†åˆ«å‡ºæ¥çš„ æ­£å®ä¾‹å æ‰€æœ‰æ­£å®ä¾‹çš„æ¯”ä¾‹ã€‚å°±æ˜¯ Recall å§ï½  TPR = TP / (TP + FN)  </p>
</li>
<li><p><strong>FPR, è´Ÿæ­£ç±»ç‡ï¼š</strong> åˆ†ç±»å™¨é”™è®¤ä¸ºæ­£ç±»çš„è´Ÿå®ä¾‹å æ‰€æœ‰è´Ÿå®ä¾‹çš„æ¯”ä¾‹ï¼ŒFPR = FP / (FP + TN)  </p>
</li>
<li><p><strong>TNRï¼Œ çœŸè´Ÿç±»ç‡ï¼š</strong> åˆ†ç±»å™¨è®¤ä¸ºè´Ÿç±»çš„è´Ÿå®ä¾‹å æ‰€æœ‰è´Ÿå®ä¾‹çš„æ¯”ä¾‹ï¼Œä¹Ÿå°±æ˜¯è´Ÿç±»çš„ Recall å§ï½ TNR = TN /(FP + TN) = 1 - FPR</p>
</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè¦å¼•å…¥-ROC-æ›²çº¿"><a href="#ä¸ºä»€ä¹ˆè¦å¼•å…¥-ROC-æ›²çº¿" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å¼•å…¥ ROC æ›²çº¿"></a>ä¸ºä»€ä¹ˆè¦å¼•å…¥ ROC æ›²çº¿</h3><ul>
<li>Motivation1ï¼šåœ¨ä¸€ä¸ªäºŒåˆ†ç±»æ¨¡å‹ä¸­ï¼Œå¯¹äºæ‰€å¾—åˆ°çš„è¿ç»­ç»“æœï¼Œå‡è®¾å·²ç¡®å®šä¸€ä¸ªé˜€å€¼ï¼Œæ¯”å¦‚è¯´ 0.6ï¼Œå¤§äºè¿™ä¸ªå€¼çš„å®ä¾‹åˆ’å½’ä¸ºæ­£ç±»ï¼Œå°äºè¿™ä¸ªå€¼åˆ™åˆ’åˆ°è´Ÿç±»ä¸­ã€‚å¦‚æœå‡å°é˜€å€¼ï¼Œå‡åˆ°0.5ï¼Œå›ºç„¶èƒ½è¯†åˆ«å‡ºæ›´å¤šçš„æ­£ç±»ï¼Œä¹Ÿå°±æ˜¯æé«˜äº†è¯†åˆ«å‡ºçš„æ­£ä¾‹å æ‰€æœ‰æ­£ä¾‹ çš„æ¯”ç±»ï¼Œå³TPR,ä½†åŒæ—¶ä¹Ÿå°†æ›´å¤šçš„è´Ÿå®ä¾‹å½“ä½œäº†æ­£å®ä¾‹ï¼Œå³æé«˜äº†FPRã€‚ä¸ºäº†å½¢è±¡åŒ–è¿™ä¸€å˜åŒ–ï¼Œå¼•å…¥ROCï¼ŒROCæ›²çº¿å¯ä»¥ç”¨äºè¯„ä»·ä¸€ä¸ªåˆ†ç±»å™¨ã€‚</li>
</ul>
<ul>
<li>Motivation2ï¼šåœ¨ç±»ä¸å¹³è¡¡çš„æƒ…å†µä¸‹,å¦‚æ­£æ ·æœ¬90ä¸ª,è´Ÿæ ·æœ¬10ä¸ª,ç›´æ¥æŠŠæ‰€æœ‰æ ·æœ¬åˆ†ç±»ä¸ºæ­£æ ·æœ¬,å¾—åˆ°è¯†åˆ«ç‡ä¸º90%ã€‚ä½†è¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚å•çº¯æ ¹æ®Precisionå’ŒRecallæ¥è¡¡é‡ç®—æ³•çš„ä¼˜åŠ£å·²ç»ä¸èƒ½è¡¨å¾è¿™ç§ç—…æ€é—®é¢˜ã€‚</li>
</ul>
<h3 id="ROC-æ›²çº¿"><a href="#ROC-æ›²çº¿" class="headerlink" title="ROC æ›²çº¿"></a>ROC æ›²çº¿</h3><p>å‰é¢å·²ç»è¯´é“ï¼Œå¯¹äºæ•°æ®ä¸å‡è¡¡çš„æƒ…å†µä¸‹ï¼Œprecision å’Œ recall ä¸è¶³ä»¥è¡¨å¾è¿™ç±»é—®é¢˜ï¼Œå°±æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŠŠæ‰¾å‡ºä¸å…³äº pie çš„ tweetçœ‹ä½œæ˜¯æ­£ç±»ï¼Œé‚£ä¹ˆå®ƒçš„ ç²¾åº¦å’Œå¬å›ç‡ éƒ½å¾ˆé«˜ã€‚æ‰€ä»¥å¼•å…¥ ROC</p>
<p>å› ä¸ºæˆ‘ä»¬è¦å…³æ³¨çš„æ˜¯æ­£ç±»ï¼Œæ‰€ä»¥å…³æ³¨æŒ‡æ ‡æ˜¯ çœŸæ­£ç±»ç‡ TPR å’Œ è´Ÿæ­£ç±»ç‡ FPRï¼ŒçœŸæ­£ç±»ç‡è¶Šé«˜è¶Šå¥½ï¼Œè´Ÿæ­£ç±»ç‡è¶Šä½è¶Šå¥½ã€‚ä½†æ˜¾ç„¶è¿™ä¸¤è€…ä¹‹é—´æ˜¯çŸ›ç›¾çš„ï¼Œä¸åˆ†ç±»å™¨çš„é˜ˆå€¼æœ‰å…³ï¼ŒROC å°±æ˜¯ç”¨æ¥è¡¨å¾é˜ˆå€¼ä¸ TPR å’Œ FPR ä¹‹é—´çš„å…³ç³»æ›²çº¿ã€‚</p>
<p>ROCï¼ˆReceiver Operating Characteristicï¼‰ç¿»è¯‘ä¸ºâ€œæ¥å—è€…æ“ä½œæ›²çº¿â€ã€‚æ›²çº¿ç”±ä¸¤ä¸ªå˜é‡1-specificity å’Œ Sensitivityç»˜åˆ¶. 1-specificity=FPRï¼Œå³è´Ÿæ­£ç±»ç‡ã€‚Sensitivityå³æ˜¯çœŸæ­£ç±»ç‡ï¼ŒTPR(True positive rate),åæ˜ äº†æ­£ç±»è¦†ç›–ç¨‹åº¦ã€‚</p>
<blockquote>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ROCæ›²çº¿ï¼Œæˆ‘ä»¬ä½¿ç”¨å…·ä½“çš„å®ä¾‹æ¥è¯´æ˜ï¼š  </p>
</blockquote>
<p>å¦‚åœ¨åŒ»å­¦è¯Šæ–­ä¸­,åˆ¤æ–­æœ‰ç—…çš„æ ·æœ¬ã€‚é‚£ä¹ˆå°½é‡æŠŠæœ‰ç—…çš„æªå‡ºæ¥æ˜¯ä¸»è¦ä»»åŠ¡,ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæŒ‡æ ‡TPR,è¦è¶Šé«˜è¶Šå¥½ã€‚è€ŒæŠŠæ²¡ç—…çš„æ ·æœ¬è¯¯è¯Šä¸ºæœ‰ç—…çš„,ä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªæŒ‡æ ‡FPR,è¦è¶Šä½è¶Šå¥½ã€‚  </p>
<p>ä¸éš¾å‘ç°,è¿™ä¸¤ä¸ªæŒ‡æ ‡ä¹‹é—´æ˜¯ç›¸äº’åˆ¶çº¦çš„ã€‚å¦‚æœæŸä¸ªåŒ»ç”Ÿå¯¹äºæœ‰ç—…çš„ç—‡çŠ¶æ¯”è¾ƒæ•æ„Ÿ,ç¨å¾®çš„å°ç—‡çŠ¶éƒ½åˆ¤æ–­ä¸ºæœ‰ç—…,é‚£ä¹ˆä»–çš„ç¬¬ä¸€ä¸ªæŒ‡æ ‡åº”è¯¥ä¼šå¾ˆé«˜,ä½†æ˜¯ç¬¬äºŒä¸ªæŒ‡æ ‡ä¹Ÿå°±ç›¸åº”åœ°å˜é«˜ã€‚æœ€æç«¯çš„æƒ…å†µä¸‹,ä»–æŠŠæ‰€æœ‰çš„æ ·æœ¬éƒ½çœ‹åšæœ‰ç—…,é‚£ä¹ˆç¬¬ä¸€ä¸ªæŒ‡æ ‡è¾¾åˆ°1,ç¬¬äºŒä¸ªæŒ‡æ ‡ä¹Ÿä¸º1ã€‚</p>
<p>æˆ‘ä»¬ä»¥FPRä¸ºæ¨ªè½´,TPRä¸ºçºµè½´,å¾—åˆ°å¦‚ä¸‹ROCç©ºé—´ã€‚  </p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb8.png"></p>
<p>å‚è€ƒé“¾æ¥ä¸­ ROC æ›²çº¿çš„è§£é‡Š: <a target="_blank" rel="noopener" href="http://www.cnblogs.com/maybe2030/p/5375175.html#_label0">http://www.cnblogs.com/maybe2030/p/5375175.html#_label0</a></p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb9.png"></p>
<p>ä¸Šé¢çš„å›¾è¡¨ç¤ºï¼Œåˆ†ç±»å™¨å¯¹äº pos å’Œ neg çš„åˆ†åˆ«æ˜¯æœ‰ä¸ªé˜ˆå€¼çš„ï¼Œé˜ˆå€¼å¾ˆé«˜ï¼Œä¹Ÿå°±æ˜¯ A å¤„ï¼Œæ˜¾ç„¶å®ƒçš„ TPR ä¸ä¼šå¾ˆé«˜ï¼Œé˜ˆå€¼è¶Šä½ï¼ŒTPR è¶Šé«˜ã€‚ ä½†æ˜¯é˜ˆå€¼å¾ˆä½çš„è¯ï¼Œé¢„æµ‹ä¸ºæ­£ç±»çš„è´Ÿå®ä¾‹ä¹Ÿå°±è¶Šå¤šï¼Œ FPR ä¹Ÿä¼šè¶Šé«˜ã€‚</p>
<p>æ›²çº¿è·ç¦»å·¦ä¸Šè§’è¶Šè¿‘,è¯æ˜åˆ†ç±»å™¨æ•ˆæœè¶Šå¥½ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªæ ‡é‡ AUC æ¥é‡åŒ–è¿™ä¸ªåˆ†ç±»æ•ˆæœã€‚</p>
<h3 id="æ€ä¹ˆå¾—åˆ°-ROC-æ›²çº¿"><a href="#æ€ä¹ˆå¾—åˆ°-ROC-æ›²çº¿" class="headerlink" title="æ€ä¹ˆå¾—åˆ° ROC æ›²çº¿"></a>æ€ä¹ˆå¾—åˆ° ROC æ›²çº¿</h3><p>æˆ‘ä»¬çŸ¥é“å¯¹ä¸€ä¸ªäºŒå€¼åˆ†ç±»å™¨ï¼Œå…¶é¢„æµ‹å‡ºæ¥çš„æ­£ç±»çš„ score æ˜¯ä¸€ä¸ªæ¦‚ç‡ã€‚å½“ä¸€ä¸ªæ ·æœ¬ä¸ºæ­£ç±»çš„æ¦‚ç‡å¤§äº thresholdæ—¶ï¼Œæˆ‘ä»¬åˆ¤åˆ«å®ƒä¸ºæ­£ç±»ã€‚æ‰€ä»¥ä¸åŒçš„ thresholdï¼Œå…¶å¯¹åº”çš„ TPR å’Œ FPR çš„å€¼ä¹Ÿå°±ä¸ä¸€æ ·ï¼Œè¿™æ ·å°±å¾—åˆ°äº† ROC æ›²çº¿ã€‚</p>
<p>è¯¦ç»†å¯å‚è€ƒï¼š<a target="_blank" rel="noopener" href="http://alexkong.net/2013/06/introduction-to-auc-and-roc/">ROCå’ŒAUCä»‹ç»ä»¥åŠå¦‚ä½•è®¡ç®—AUC</a>  éå¸¸æ¸…æ¥šï¼ï¼ï¼</p>
<h3 id="AUC"><a href="#AUC" class="headerlink" title="AUC"></a>AUC</h3><p>AUCå€¼ä¸ºROCæ›²çº¿æ‰€è¦†ç›–çš„åŒºåŸŸé¢ç§¯,æ˜¾ç„¶,AUCè¶Šå¤§,åˆ†ç±»å™¨åˆ†ç±»æ•ˆæœè¶Šå¥½ã€‚</p>
<ul>
<li><p>AUC = 1ï¼Œæ˜¯å®Œç¾åˆ†ç±»å™¨ï¼Œé‡‡ç”¨è¿™ä¸ªé¢„æµ‹æ¨¡å‹æ—¶ï¼Œä¸ç®¡è®¾å®šä»€ä¹ˆé˜ˆå€¼éƒ½èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ã€‚ç»å¤§å¤šæ•°é¢„æµ‹çš„åœºåˆï¼Œä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ã€‚  </p>
</li>
<li><p>0.5 &lt; AUC &lt; 1ï¼Œä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾å®šé˜ˆå€¼çš„è¯ï¼Œèƒ½æœ‰é¢„æµ‹ä»·å€¼ã€‚  </p>
</li>
<li><p>AUC = 0.5ï¼Œè·ŸéšæœºçŒœæµ‹ä¸€æ ·ï¼ˆä¾‹ï¼šä¸¢é“œæ¿ï¼‰ï¼Œæ¨¡å‹æ²¡æœ‰é¢„æµ‹ä»·å€¼ã€‚  </p>
</li>
<li><p>AUC &lt; 0.5ï¼Œæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼›ä½†åªè¦æ€»æ˜¯åé¢„æµ‹è€Œè¡Œï¼Œå°±ä¼˜äºéšæœºçŒœæµ‹ã€‚  </p>
</li>
</ul>
<p>AUCçš„ç‰©ç†æ„ä¹‰ï¼šå‡è®¾åˆ†ç±»å™¨çš„è¾“å‡ºæ˜¯æ ·æœ¬å±äºæ­£ç±»çš„socreï¼ˆç½®ä¿¡åº¦ï¼‰ï¼Œåˆ™AUCçš„ç‰©ç†æ„ä¹‰ä¸ºï¼Œä»»å–ä¸€å¯¹ï¼ˆæ­£ã€è´Ÿï¼‰æ ·æœ¬ï¼Œæ­£æ ·æœ¬çš„scoreå¤§äºè´Ÿæ ·æœ¬çš„scoreçš„æ¦‚ç‡ã€‚</p>
<h3 id="æ€ä¹ˆè®¡ç®—-AUC"><a href="#æ€ä¹ˆè®¡ç®—-AUC" class="headerlink" title="æ€ä¹ˆè®¡ç®— AUC"></a>æ€ä¹ˆè®¡ç®— AUC</h3><p>AUCï¼ˆArea Under Curveï¼‰è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº1ã€‚åˆç”±äºROCæ›²çº¿ä¸€èˆ¬éƒ½å¤„äºy=xè¿™æ¡ç›´çº¿çš„ä¸Šæ–¹ï¼Œæ‰€ä»¥AUCçš„å–å€¼èŒƒå›´åœ¨0.5å’Œ1ä¹‹é—´ã€‚ä½¿ç”¨AUCå€¼ä½œä¸ºè¯„ä»·æ ‡å‡†æ˜¯å› ä¸ºå¾ˆå¤šæ—¶å€™ROCæ›²çº¿å¹¶ä¸èƒ½æ¸…æ™°çš„è¯´æ˜å“ªä¸ªåˆ†ç±»å™¨çš„æ•ˆæœæ›´å¥½ï¼Œè€Œä½œä¸ºä¸€ä¸ªæ•°å€¼ï¼Œå¯¹åº”AUCæ›´å¤§çš„åˆ†ç±»å™¨æ•ˆæœæ›´å¥½ã€‚</p>
<p>ä»£ç å®ç°ï¼š <a target="_blank" rel="noopener" href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html">sklearn.metrics.roc_auc_score</a></p>
<h3 id="ç½®ä¿¡åº¦å’Œç½®ä¿¡åŒºé—´"><a href="#ç½®ä¿¡åº¦å’Œç½®ä¿¡åŒºé—´" class="headerlink" title="ç½®ä¿¡åº¦å’Œç½®ä¿¡åŒºé—´"></a>ç½®ä¿¡åº¦å’Œç½®ä¿¡åŒºé—´</h3><p>è¿™é‡Œå¥½åƒè·Ÿç½®ä¿¡åº¦å’Œç½®ä¿¡åŒºé—´æ²¡å•¥å…³ç³»ã€‚ã€‚ã€‚ä½†æ˜¯äº†è§£ä¸‹ä¹Ÿæ²¡äº‹</p>
<h4 id="ç½®ä¿¡åŒºé—´"><a href="#ç½®ä¿¡åŒºé—´" class="headerlink" title="ç½®ä¿¡åŒºé—´"></a>ç½®ä¿¡åŒºé—´</h4><p>å†æ¥ç†è§£ç½®ä¿¡åº¦ï¼Œé¦–å…ˆè¦ç†è§£ 95%ç½®ä¿¡åŒºé—´ å’Œ ç½®ä¿¡åº¦ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/26419030">çŸ¥ä¹ï¼š95%ç½®ä¿¡åŒºé—´</a> æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œé¦–å…ˆæ€»ä½“å‡å€¼æ˜¯å›ºå®šçš„ï¼Œä½†åªæœ‰ä¸Šå¸çŸ¥é“ã€‚æˆ‘ä»¬å°±è¦ç”¨æ ·æœ¬å»ä¼°è®¡æ€»ä½“å‡å€¼ã€‚ä¸€æ¬¡æ¬¡æŠ½æ ·ä¼šå¾—åˆ°å¾ˆå¤šæ ·æœ¬å‡å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ— æ³•åˆ¤æ–­å“ªä¸ªå‡å€¼æœ€å¥½ï¼Œæœ€æ¥è¿‘æ€»ä½“å‡å€¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æ„é€ åŒºé—´æ¥çœ‹è¿™ä¸ªåŒºé—´æ˜¯å¦å«æœ‰æ€»ä½“å‡å€¼ã€‚</p>
<p>æ€ä¹ˆæ„é€ åŒºé—´ï¼š  </p>
<p>é€šè¿‡ä¸€æ¬¡æ¬¡æŠ½æ ·å¾—åˆ°çš„æ ·æœ¬å‡å€¼ï¼š  </p>
<p>$$M=\dfrac{X_1 + X_2+â€¦+X_n}{n}$$</p>
<p>æ ¹æ®å¤§æ•°å®šå¾‹ï¼š  </p>
<p>$$M\sim N(\mu,\dfrac{\sigma^2}{n})$$</p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb7.jpg"></p>
<p>é€šè¿‡æŸ¥è¡¨ <a target="_blank" rel="noopener" href="https://www.cnblogs.com/yanjunhelloworld/p/4844741.html">æ ‡å‡†æ­£å¤ªåˆ†å¸ƒè¡¨</a>å¯çŸ¥ï¼Œè¿™æ ·å¯ä»¥è®¡ç®—å‡ºç½®ä¿¡åŒºé—´ï¼Œï¼ˆå¦‚æœæ–¹å·®ä¸ºæ­¢ï¼Œåˆ™ç”¨æ ·æœ¬æ–¹å·®ä»£æ›¿ï¼‰</p>
<p>æˆ‘ä»¬ä»¥ $1.96\dfrac{\sigma }{\sqrt{n}}$ ä¸ºåŠå¾„åšåŒºé—´ï¼Œå°±æ„é€ å‡ºäº† $95%$  ç½®ä¿¡åŒºé—´ã€‚æŒ‰è¿™æ ·å»æ„é€ çš„100ä¸ªåŒºé—´ï¼Œå…¶ä¸­å¤§çº¦ä¼šæœ‰95ä¸ªä¼šåŒ…å« $\mu$ ï¼š</p>
<p><img src="/2018/08/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87%E6%80%BB%E7%BB%93/nb6.gif"></p>
<p>é‚£ä¹ˆï¼Œåªæœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ã€å¹¶ä¸”æ°¸è¿œéƒ½ä¸ä¼šçŸ¥é“çœŸå®çš„ $\mu$  æ˜¯å¤šå°‘:</p>
<p>æˆ‘ä»¬å°±åªæœ‰ç”¨ $\hat{\mu }$ æ¥ä»£æ›¿ $\mu$ ï¼š</p>
<p>$$P(\hat \mu-1.96\dfrac{\sigma}{n}\le M\le\hat \mu+1.96\dfrac{\sigma}{n}) = 0.95$$</p>
<p>è¿™æ ·å¯ä»¥å¾—åˆ°ç½®ä¿¡åŒºé—´äº†ã€‚å¦‚æœæŠ½æ ·100æ¬¡ï¼Œå¯¹åº”ä¹Ÿå°±æœ‰100ä¸ªç½®ä¿¡åŒºé—´ï¼Œé‚£ä¹ˆå…¶ä¸­å«æœ‰æ€»ä½“å‡å€¼çš„æ¦‚ç‡çº¦ä¸º 95%.</p>
<h4 id="ç½®ä¿¡åº¦"><a href="#ç½®ä¿¡åº¦" class="headerlink" title="ç½®ä¿¡åº¦"></a>ç½®ä¿¡åº¦</h4><p>æ ·æœ¬æ•°ç›®ä¸å˜çš„æƒ…å†µä¸‹ï¼Œåšä¸€ç™¾æ¬¡è¯•éªŒï¼Œæœ‰95ä¸ªç½®ä¿¡åŒºé—´åŒ…å«äº†æ€»ä½“çœŸå€¼ã€‚ç½®ä¿¡åº¦ä¸º95%</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-07-28T12:30:13.000Z" title="2018/7/28 ä¸‹åˆ8:30:13">2018-07-28</time>å‘è¡¨</span><span class="level-item"><time dateTime="2021-06-29T08:12:08.539Z" title="2021/6/29 ä¸‹åˆ4:12:08">2021-06-29</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">è®ºæ–‡ç¬”è®°</a><span>Â /Â </span><a class="link-muted" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/DL/">DL</a></span><span class="level-item">29 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4300ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Batch-Normalization/">æ·±åº¦å­¦ä¹ -Batch Normalization</a></h1><div class="content"><h1 id="Paper-Reading"><a href="#Paper-Reading" class="headerlink" title="Paper Reading"></a>Paper Reading</h1><ul>
<li>paper: <a target="_blank" rel="noopener" href="http://proceedings.mlr.press/v37/ioffe15.pdf">Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift</a></li>
</ul>
<h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><blockquote>
<p>Training Deep Neural Networks is complicated by the fact that the distribution of each layerâ€™s inputs changes during training, as the parameters of the previous layers change. This slows down the training by requiring lower learning rates and careful parameter initialization, and makes it notoriously hard to train models with saturating nonlinearities. We refer to this phenomenon as internal covariate shift.   </p>
</blockquote>
<p>ç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹ä¸­å‚æ•°ä¸æ–­æ”¹å˜å¯¼è‡´åç»­æ¯ä¸€å±‚è¾“å…¥çš„åˆ†å¸ƒä¹Ÿå‘ç”Ÿå˜åŒ–ï¼Œè€Œå­¦ä¹ çš„è¿‡ç¨‹åˆè¦ä½¿æ¯ä¸€å±‚é€‚åº”è¾“å…¥çš„åˆ†å¸ƒï¼Œè¿™ä½¿å¾—ä¸å¾—ä¸é™ä½å­¦ä¹ ç‡ã€å°å¿ƒåœ°åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä½¿å¾—é‚£äº›å…·æœ‰æ˜“é¥±å’Œéçº¿æ€§æ¿€æ´»å‡½æ•°çš„ç½‘ç»œè®­ç»ƒè‡­åæ˜­è‘—ã€‚ä½œè€…å°†åˆ†å¸ƒå‘ç”Ÿå˜åŒ–ç§°ä¹‹ä¸º internal covariate shiftã€‚</p>
<blockquote>
<p>stochastic gradient is simple and effective, it requires careful tuning of the model hyper-parameters, specifically the learning rate and the initial parameter values. The training is complicated by the fact that the inputs to each layer are affected by the parameters of all preceding layers â€“ so that small changes to the network parameters amplify as the network becomes deeper.  </p>
</blockquote>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­æˆ‘ä»¬é‡‡ç”¨SGDå–å¾—äº†éå¸¸å¥½çš„æ•ˆæœï¼ŒSGDç®€å•æœ‰æ•ˆï¼Œä½†æ˜¯å®ƒå¯¹è¶…å‚æ•°éå¸¸æ•æ„Ÿï¼Œå°¤å…¶æ˜¯å­¦ä¹ ç‡å’Œåˆå§‹åŒ–å‚æ•°ã€‚</p>
<blockquote>
<p>The change in the distributions of layersâ€™ inputs presents a problem because the layers need to continuously adapt to the new distribution. When the input distribution to a learning system changes, it is said to experience covariate shift (Shimodaira, 2000). This is typically handled via domain adaptation (Jiang, 2008). However, the notion of covariate shift can be extended beyond the learning system</p>
</blockquote>
<p>as a whole, to apply to its parts, such as a sub-network or a layer.  </p>
<p>å› ä¸ºå­¦ä¹ çš„è¿‡ç¨‹ä¸­æ¯ä¸€å±‚éœ€è¦å»è¿ç»­çš„é€‚åº”æ¯ä¸€å±‚è¾“å…¥çš„åˆ†å¸ƒï¼Œæ‰€ä»¥è¾“å…¥åˆ†å¸ƒå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šäº§ç”Ÿä¸€äº›é—®é¢˜ã€‚è¿™é‡Œä½œè€…å¼•ç”¨äº† <em>covariate shift</em> å’Œ <strong>domain adaptation</strong> è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚</p>
<blockquote>
<p>Therefore, the input distribution properties that aid the network generalization â€“ such as having the same distribution between the training and test data â€“ apply to training the sub-network as well.As such it is advantageous for the distribution of x to remain fixed over time.</p>
</blockquote>
<p>æœ‰åŠ©äºç½‘ç»œæ³›åŒ–çš„è¾“å…¥åˆ†å¸ƒå±æ€§ï¼šä¾‹å¦‚åœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¹‹é—´å…·æœ‰ç›¸åŒçš„åˆ†å¸ƒï¼Œä¹Ÿé€‚ç”¨äºè®­ç»ƒå­ç½‘ç»œ</p>
<blockquote>
<p>Fixed distribution of inputs to a sub-network would have positive consequences for the layers outside the subnetwork, as well.  </p>
</blockquote>
<p>å›ºå®šè¾“å…¥åˆ†å¸ƒå¯¹è¯¥å­ç½‘ç»œå…¶ä»–éƒ¨åˆ†çš„ç½‘ç»œçš„è®­ç»ƒä¼šäº§ç”Ÿç§¯æçš„å½±å“ã€‚</p>
<p><strong>æ€»ç»“ä¸‹ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ BN</strong>ï¼š  </p>
<p>åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºå‰ä¸€å±‚çš„å‚æ•°æ”¹å˜ï¼Œå°†ä¼šå¯¼è‡´åä¸€å±‚çš„è¾“å…¥çš„åˆ†å¸ƒä¸æ–­åœ°å‘ç”Ÿæ”¹å˜ï¼Œè¿™å°±éœ€è¦é™ä½å­¦ä¹ é€Ÿç‡åŒæ—¶è¦æ³¨æ„å‚æ•°çš„åˆå§‹åŒ–ï¼Œä¹Ÿä½¿å…·æœ‰é¥±å’Œéçº¿æ€§ï¼ˆsaturating nonlinearityï¼‰ç»“æ„çš„æ¨¡å‹éå¸¸éš¾è®­ç»ƒï¼ˆæ‰€è°“çš„é¥±å’Œå°±æ˜¯æŒ‡å‡½æ•°çš„å€¼åŸŸæ˜¯ä¸ªæœ‰é™å€¼ï¼Œå³å½“å‡½æ•°è‡ªå˜é‡è¶‹å‘æ— ç©·æ—¶ï¼Œå‡½æ•°å€¼ä¸è¶‹å‘æ— ç©·ï¼‰ã€‚æ·±åº¦ç¥ç»ç½‘ç»œä¹‹æ‰€ä»¥å¤æ‚æ˜¯å› ä¸ºå®ƒæ¯ä¸€å±‚çš„è¾“å‡ºéƒ½ä¼šå—åˆ°ä¹‹å‰å±‚çš„å½±å“ï¼Œå› æ­¤ä¸€ä¸ªå°å°çš„å‚æ•°æ”¹å˜éƒ½ä¼šå¯¹ç½‘ç»œäº§ç”Ÿå·¨å¤§çš„æ”¹å˜ã€‚ä½œè€…å°†è¿™ç§ç°è±¡ç§°ä¸ºinternal covariate shiftï¼Œæå‡ºäº†å¯¹æ¯ä¸ªè¾“å…¥å±‚è¿›è¡Œè§„èŒƒåŒ–æ¥è§£å†³ã€‚åœ¨æ–‡ä¸­ï¼Œä½œè€…æåˆ°ä½¿ç”¨BNå¯ä»¥åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä½¿ç”¨è¾ƒé«˜çš„å­¦ä¹ é€Ÿç‡ï¼Œå¯ä»¥æ¯”è¾ƒéšæ„çš„å¯¹å‚æ•°è¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒæ—¶BNä¹Ÿèµ·åˆ°äº†ä¸€ç§æ­£åˆ™åŒ–çš„ä½œç”¨ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥å–ä»£dropoutçš„ä½œç”¨ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªä»¥sigmoidä¸ºæ¿€æ´»å‡½æ•°çš„ç¥ç»å±‚ï¼š  </p>
<p>$z=g(Wu+b)$  </p>
<p>å…¶ä¸­ u æ˜¯è¾“å…¥ï¼Œ g æ˜¯ sigmoid æ¿€æ´»å‡½æ•° $g(x)=\dfrac{1}{1+exp(x)}$ï¼Œå½“ |x| å¢åŠ æ—¶ï¼Œ$gâ€™(x)$ è¶‹è¿‘äº0, è¿™æ„å‘³ç€ $x=Wu+b$ çš„æ‰€æœ‰ç»´åº¦ï¼Œé™¤äº†ç»å¯¹å€¼è¾ƒå°çš„ç»´åº¦ï¼Œå…¶ä»–çš„æµå‘è¾“å…¥ u çš„æ¢¯åº¦éƒ½ä¼šæ¶ˆå¤±,ä¹Ÿå°±æ˜¯è¿›å…¥éçº¿æ€§çš„é¥±å’ŒåŒºåŸŸï¼Œè¿™ä¼šé™ä½æ¨¡å‹è®­ç»ƒé€Ÿåº¦ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯¹äºéçº¿æ€§é¥±å’Œçš„æƒ…å†µï¼Œå·²ç»æœ‰å¾ˆæœ‰å¯¹åº”ç­–ç•¥ï¼š  </p>
<ul>
<li><p>ReLU  </p>
</li>
<li><p>åˆå§‹åŒ– Xavier initialization.  </p>
</li>
<li><p>ç”¨ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ é€Ÿç‡è¿›è¡Œå­¦ä¹   </p>
</li>
</ul>
<blockquote>
<p>If, however, we could ensure that the distribution of nonlinearity inputs remains more stable as the network trains, then the optimizer would be less likely to get stuck in the saturated regime, and the training would accelerate.  </p>
</blockquote>
<p>å¦‚æœä¿è¯éçº¿æ€§è¾“å…¥çš„åˆ†å¸ƒç¨³å®šï¼Œä¼˜åŒ–å™¨ä¹Ÿå°±ä¸ä¼šé™·äºé¥±å’ŒåŒºåŸŸäº†ï¼Œè®­ç»ƒä¹Ÿä¼šåŠ é€Ÿã€‚</p>
<blockquote>
<p>We refer to the change in the distributions of internal nodes of a deep network, in the course of training, as Internal Covariate Shift. Eliminating it offers a promise of faster training. We propose a new mechanism, which we call Batch Normalization, that takes a step towards reducing internal covariate shift, and in doing so dramatically accelerates the training of deep neural nets. It accomplishes this via a normalization step that fixes the means and variances of layer inputs.  </p>
</blockquote>
<p>ä½œè€…æŠŠè¿™ç§è¾“å…¥åˆ†å¸ƒçš„å˜åŒ–å«åšå†…éƒ¨åæ–¹å·®åç§»ã€‚å¹¶æå‡ºäº† <strong>Batch Normalization</strong>,é€šè¿‡å›ºå®šè¾“å…¥çš„å‡å€¼å’Œæ–¹å·®ã€‚</p>
<blockquote>
<p>Batch Normalization also has a beneficial effect on the gradient flow through the network, by reducing the dependence of gradients on the scale of the parameters or</p>
</blockquote>
<p>of their initial values. This allows us to use much higher learning rates without the risk of divergence. Furthermore, batch normalization regularizes the model and reduces the need for Dropout (Srivastava et al., 2014). Finally, Batch Normalization makes it possible to use saturating nonlinearities by preventing the network from getting stuck in the saturated modes.  </p>
<p>BN é™¤äº†èƒ½è§£å†³ internal covariate shift çš„é—®é¢˜ï¼Œè¿˜èƒ½å¤Ÿé™ä½æ¢¯åº¦å¯¹å­¦ä¹ ç‡ï¼Œåˆå§‹åŒ–å‚æ•°è®¾ç½®çš„ä¾èµ–ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡ï¼Œæ­£åˆ™åŒ–æ¨¡å‹ï¼Œé™ä½å¯¹ dropout çš„éœ€æ±‚ï¼Œæœ€åè¿˜ä¿è¯ç½‘ç»œèƒ½å¤Ÿä½¿ç”¨å…·æœ‰é¥±å’Œæ€§çš„éçº¿æ€§æ¿€æ´»å‡½æ•°ã€‚</p>
<h2 id="Towards-Reducing-Internal-Covariate-Shift"><a href="#Towards-Reducing-Internal-Covariate-Shift" class="headerlink" title="Towards Reducing Internal Covariate Shift"></a>Towards Reducing Internal Covariate Shift</h2><h3 id="whitening-ç™½åŒ–æ“ä½œ"><a href="#whitening-ç™½åŒ–æ“ä½œ" class="headerlink" title="whitening ç™½åŒ–æ“ä½œ"></a>whitening ç™½åŒ–æ“ä½œ</h3><blockquote>
<p>It has been long known (LeCun et al., 1998b; Wiesler &amp; Ney, 2011) that the network training converges faster if its inputs are whitened â€“ i.e., linearly transformed to have zero means and unit variances, and decorrelated.  </p>
</blockquote>
<p>ä½¿ç”¨ç™½åŒ– whitening æœ‰åŠ©äºæ¨¡å‹æ”¶æ•›ï¼Œç™½åŒ–æ˜¯çº¿æ€§å˜åŒ–ï¼Œè½¬åŒ–ä¸ºå‡å€¼ä¸º0,æ–¹å·®ä¸º1,å¹¶ä¸”å»ç›¸å…³æ€§ã€‚</p>
<blockquote>
<p>However, if these modifications are interspersed with the optimization steps, then the gradient descent step may attempt to update the parameters in a way that requires the normalization to be updated, which reduces the effect of the gradient step.  </p>
</blockquote>
<p>å¦‚æœå°†ç™½åŒ–ä¸åŸºäºæ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–æ··åˆåœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œæ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹ä¸­ä¼šå—åˆ°æ ‡å‡†åŒ–çš„å‚æ•°æ›´æ–°çš„å½±å“ï¼Œè¿™æ ·ä¼šå‡å¼±ç”šè‡³æŠµæ¶ˆæ¢¯åº¦ä¸‹é™çš„äº§ç”Ÿçš„å½±å“ã€‚</p>
<p>ä½œè€…ä¸¾äº†è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼š  </p>
<p>è€ƒè™‘ä¸€ä¸ªè¾“å…¥ u å’Œä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•° b ç›¸åŠ ä½œä¸ºä¸€ä¸ª layer. é€šè¿‡å‡å»å‡å€¼è¿›è¡Œæ ‡å‡†åŒ– $\hat x=x-E[x]$, å…¶ä¸­ x=u+b. åˆ™å‰å‘ä¼ æ’­çš„è¿‡ç¨‹ï¼š  </p>
<p>$x=u+b \rightarrow \hat x = x-E[x] \rightarrow loss$  </p>
<p>åå‘ä¼ æ’­å¯¹å‚æ•° b æ±‚å¯¼ï¼ˆä¸è€ƒè™‘ b å’Œ E[x] çš„ç›¸å…³æ€§ï¼‰ï¼š  </p>
<p>$\dfrac{\partial l}{\partial b}=\dfrac{\partial l}{\partial \hat x}\dfrac{\partial \hat x}{\partial b} = \dfrac{\partial l}{\partial \hat x}$  </p>
<p>é‚£ä¹ˆ $\Delta b = -\dfrac{\partial l}{\partial \hat x}$, åˆ™å¯¹äºå‚æ•° b çš„æ›´æ–°ï¼š $b \leftarrow  \Delta b + b$.  </p>
<p>é‚£ä¹ˆç»è¿‡äº†æ ‡å‡†åŒ–ã€æ¢¯åº¦ä¸‹é™æ›´æ–°å‚æ•°ä¹‹åï¼š  </p>
<p>$u+(b+\Delta b)-E[u+(b+\Delta b)]=u+b-E[u+b]$  </p>
<p>è¿™æ„å‘³ç€è¿™ä¸ª layer çš„è¾“å‡ºæ²¡æœ‰å˜åŒ–ï¼ŒæŸå¤± $\dfrac{\partial l}{\partial \hat x}ä¹Ÿæ²¡æœ‰å˜åŒ–$, é‚£ä¹ˆéšç€è®­ç»ƒçš„è¿›è¡Œï¼Œ**bä¼šæ— é™çš„å¢é•¿???**ï¼Œè€Œlossä¸å˜ã€‚</p>
<blockquote>
<p>This problem can get worse if the normalization not only centers but also scales the activations. We have observed this empirically in initial experiments, where the model blows up when the normalization parameters are computed outside the gradient descent step.  </p>
</blockquote>
<p>å¦‚æœè§„èŒƒåŒ–ä¸ä»…ä¸­å¿ƒå¤„ç†(å³å‡å»å‡å€¼)ï¼Œè€Œä¸”è¿˜å¯¹æ¿€æ´»å€¼è¿›è¡Œç¼©æ”¾ï¼Œé—®é¢˜ä¼šå˜å¾—æ›´ä¸¥é‡ã€‚é€šè¿‡å®éªŒå‘ç°ï¼Œ å½“å½’ä¸€åŒ–å‚æ•°åœ¨æ¢¯åº¦ä¸‹é™æ­¥éª¤ä¹‹å¤–è¿›è¡Œï¼Œæ¨¡å‹ä¼šçˆ†ç‚¸ã€‚</p>
<h3 id="è¿›è¡Œç™½åŒ–æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¼˜åŒ–æ—¶è€ƒè™‘æ ‡å‡†åŒ–çš„é—®é¢˜"><a href="#è¿›è¡Œç™½åŒ–æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¼˜åŒ–æ—¶è€ƒè™‘æ ‡å‡†åŒ–çš„é—®é¢˜" class="headerlink" title="è¿›è¡Œç™½åŒ–æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¼˜åŒ–æ—¶è€ƒè™‘æ ‡å‡†åŒ–çš„é—®é¢˜"></a>è¿›è¡Œç™½åŒ–æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¼˜åŒ–æ—¶è€ƒè™‘æ ‡å‡†åŒ–çš„é—®é¢˜</h3><blockquote>
<p>The issue with the above approach is that the gradient descent optimization does not take into account the fact that the normalization takes place. To address this issue, we would like to ensure that, for any parameter values, the network always produces activations with the desired distribution.Doing so would allow the gradient of the loss with respect to the model parameters to account for the normalization, and for its dependence on the model parameters Î˜.  </p>
</blockquote>
<p>ä¹‹æ‰€ä»¥ä¼šäº§ç”Ÿä»¥ä¸Šçš„é—®é¢˜ï¼Œä¸»è¦æ˜¯æ¢¯åº¦ä¼˜åŒ–çš„è¿‡ç¨‹ä¸­æ²¡æœ‰è€ƒè™‘åˆ°æ ‡å‡†åŒ–æ“ä½œçš„è¿›è¡Œ(ä¸å¥½å®ç°)ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä½œè€…æå‡ºæˆ‘ä»¬éœ€è¦ä¿è¯ç½‘ç»œäº§ç”Ÿçš„æ¿€æ´»æ€»æ˜¯æœ‰ç›¸åŒçš„åˆ†å¸ƒã€‚è¿™æ ·åšå…è®¸æŸå¤±å€¼å…³äºæ¨¡å‹å‚æ•°çš„æ¢¯åº¦è€ƒè™‘åˆ°æ ‡å‡†åŒ–ã€‚</p>
<p>å†ä¸€æ¬¡è€ƒè™‘ x æ˜¯ä¸€ä¸ª layer çš„è¾“å…¥ï¼Œçœ‹ä½œä¸€ä¸ªå‘é‡ï¼Œ$\chi$ æ˜¯æ•´ä¸ªè®­ç»ƒé›†ï¼Œåˆ™æ ‡å‡†åŒ–ï¼š</p>
<p>$\hat x = Norm(x, \chi)$</p>
<p>è¿™æ—¶æ ‡å‡†åŒ–çš„å‚æ•°ä¸ä»…å–å†³äºå½“å‰çš„è¾“å…¥xï¼Œè¿˜å’Œæ•´ä¸ªè®­ç»ƒé›† $\chi$ æœ‰å…³ï¼Œå½“xæ¥è‡ªå…¶å®ƒå±‚çš„è¾“å‡ºæ—¶ï¼Œé‚£ä¹ˆä¸Šå¼å°±ä¼šå’Œå‰é¢å±‚çš„ç½‘ç»œå‚æ•° $\theta$ æœ‰å…³ï¼Œåå‘ä¼ æ’­æ—¶éœ€è¦è®¡ç®—:</p>
<p>$$\frac{\partial{Norm(x,\chi)}}{\partial{x}}\text{ and }\frac{\partial{Norm(x,\chi)}}{\partial{\chi}}$$</p>
<p>å¦‚æœå¿½ç•¥ä¸Šè¾¹ç¬¬äºŒé¡¹å°±ä¼šå‡ºç°ä¹‹å‰è¯´åˆ°çš„é—®é¢˜ã€‚ä½†æ˜¯ç›´æ¥åœ¨è¿™ä¸€æ¶æ„ä¸‹è¿›è¡Œç™½è¯æ“ä½œå¾ˆéå¸¸çš„è´¹æ—¶ï¼Œä»£ä»·å¾ˆå¤§ã€‚ä¸»è¦æ˜¯éœ€è¦è®¡ç®—åæ–¹å·®çŸ©é˜µï¼Œè¿›è¡Œå½’ä¸€åŒ–ï¼Œä»¥åŠåå‘ä¼ æ’­æ—¶ä¹Ÿéœ€è¦è¿›è¡Œç›¸å…³çš„è®¡ç®—ã€‚å› æ­¤è¿™å°±éœ€è¦å¯»æ‰¾ä¸€ç§æ–°çš„æ–¹æ³•ï¼Œæ—¢å¯ä»¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœï¼Œåˆä¸éœ€è¦åœ¨æ¯ä¸ªå‚æ•°æ›´æ–°ååˆ†ææ•´ä¸ªè®­ç»ƒé›†ã€‚</p>
<h2 id="Normalization-via-Mini-Batch-Statistics"><a href="#Normalization-via-Mini-Batch-Statistics" class="headerlink" title="Normalization via Mini-Batch Statistics"></a>Normalization via Mini-Batch Statistics</h2><h3 id="å¯¹æ¯”äºç™½åŒ–çš„ä¸¤ä¸ªç®€åŒ–"><a href="#å¯¹æ¯”äºç™½åŒ–çš„ä¸¤ä¸ªç®€åŒ–" class="headerlink" title="å¯¹æ¯”äºç™½åŒ–çš„ä¸¤ä¸ªç®€åŒ–"></a>å¯¹æ¯”äºç™½åŒ–çš„ä¸¤ä¸ªç®€åŒ–</h3><blockquote>
<p>Since the full whitening of each layerâ€™s inputs is costly, we make two necessary simplifications. The first is that instead of whitening the features in layer inputs and outputs jointly, we will normalize each scalar feature independently, by making it have zero mean and unit variance.  </p>
</blockquote>
<p>æ—¢ç„¶ç™½åŒ–æ“ä½œè¿™ä¹ˆè´¹æ—¶è´¹åŠ›ï¼Œä½œè€…è€ƒè™‘ä¸¤ç‚¹å¿…è¦çš„ç®€åŒ–ã€‚<strong>ç¬¬ä¸€ç‚¹</strong>ï¼Œå¯¹è¾“å…¥ç‰¹å¾çš„æ¯ä¸€ç»´ $x=(x^{(1)},â€¦,x^{(d)})$ è¿›è¡Œå»å‡å€¼å’Œå•ä½æ–¹å·®çš„å¤„ç†ã€‚</p>
<p>$$\hat x^{(k)} = \dfrac{x^{(k)}-E[x^{(k)}]}{\sqrt {Var[x^{(k)}]}}$$</p>
<blockquote>
<p>where the expectation and variance are computed over the</p>
</blockquote>
<p>training data set.   </p>
<p>å…¶ä¸­å‡å€¼å’Œæ–¹å·®æ˜¯åŸºäºæ•´ä¸ªè®­ç»ƒé›†è®¡ç®—å¾—åˆ°çš„ã€‚</p>
<blockquote>
<p>Note that simply normalizing each input of a layer may change what the layer can represent. For instance, normalizing the inputs of a sigmoid would constrain them to the linear regime of the nonlinearity.  </p>
</blockquote>
<p>ä½†æ˜¯å¦‚æœä»…æ˜¯ç®€å•çš„å¯¹æ¯ä¸€å±‚çš„è¾“å…¥è¿›è¡Œæ ‡å‡†åŒ–å¯èƒ½ä¼šå¯¹è¯¥å±‚çš„è¡¨è¾¾é€ æˆèƒ½åŠ›æ”¹å˜ã€‚æ¯”å¦‚å¯¹ä¸€ä¸ªsigmoidæ¿€æ´»å‡½æ•°çš„è¾“å…¥æ ‡å‡†åŒ–ä¼šå°†è¾“å…¥å›ºå®šåœ¨çº¿æ€§åŒºåŸŸã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä½œè€…æå‡ºäº†è¿™æ ·çš„æ”¹å˜,å¼•å…¥ä¸€å¯¹å‚æ•° $\gamma^{(k)}$, $\beta^{(k)}$ æ¥å¯¹å½’ä¸€åŒ–ä¹‹åçš„å€¼è¿›è¡Œç¼©æ”¾å’Œå¹³ç§»ã€‚  </p>
<p>$$y^{(k)} = \gamma^{(k)}\hat x^{(k)} + \beta^{(k)}$$</p>
<p> $\gamma^{(k)}$, $\beta^{(k)}$ æ˜¯å¯å­¦ä¹ çš„å‚æ•°ï¼Œç”¨æ¥å›å¤ç»è¿‡æ ‡å‡†åŒ–ä¹‹åçš„ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›ã€‚å¦‚æœ  $\gamma^{(k)}=\sqrt {Var[x^{(k)}]}$, $\beta^{(k)}=E[x^{(k)}]$</p>
<blockquote>
<p>In the batch setting where each training step is based on the entire training set, we would use the whole set to normalize activations. However, this is impractical when using stochastic optimization. Therefore, we make the second simplification: since we use mini-batches in stochastic gradient training, each mini-batch produces estimates of the mean and variance of each activation.  </p>
</blockquote>
<p>åœ¨batchä¸­ä½¿ç”¨æ•´ä¸ªè®­ç»ƒé›†çš„å‡å€¼å’Œæ–¹å·®æ˜¯ä¸åˆ‡å®é™…çš„ï¼Œå› æ­¤ï¼Œä½œè€…æå‡ºäº† <strong>ç¬¬äºŒä¸ªç®€åŒ–</strong>ï¼Œç”¨ mini-batch æ¥ä¼°è®¡å‡å€¼å’Œæ–¹å·®ã€‚</p>
<blockquote>
<p>Note that the use of mini-batches is enabled by computation of per-dimension variances rather than joint covariances; in the joint case, regularization would be required since the mini-batch size is likely to be smaller than the number of activations being whitened, resulting in singular covariance matrices.  </p>
</blockquote>
<p>æ³¨æ„åˆ° mini-batches æ˜¯è®¡ç®—æ¯ä¸€ç»´çš„æ–¹å·®ï¼Œè€Œä¸æ˜¯è”åˆåæ–¹å·®ã€‚ä½¿ç”¨åæ–¹å·®å°±éœ€è¦å¯¹æ¨¡å‹è¿›è¡Œæ­£åˆ™åŒ–ï¼Œmini-batches çš„å¤§å°å¾€å¾€å°äºéœ€è¦ç™½åŒ–çš„æ¿€æ´»å€¼çš„æ•°é‡,ä¼šå¾—åˆ° <strong>å¥‡å¼‚åæ–¹å·®çŸ©é˜µ(singular vorariance matrices)???</strong>.</p>
<h3 id="BN-æ ¸å¿ƒæµç¨‹"><a href="#BN-æ ¸å¿ƒæµç¨‹" class="headerlink" title="BN æ ¸å¿ƒæµç¨‹"></a>BN æ ¸å¿ƒæµç¨‹</h3><p>batch size m, æˆ‘ä»¬å…³æ³¨å…¶ä¸­æŸä¸€ä¸ªç»´åº¦ $x^{k}$, k è¡¨ç¤ºç¬¬kç»´ç‰¹å¾ã€‚é‚£ä¹ˆå¯¹äº batch ä¸­è¯¥ç»´ç‰¹å¾çš„ m ä¸ªå€¼ï¼š</p>
<p>$$B={x_{1,â€¦,m}}$$</p>
<p>ç»è¿‡çº¿æ€§è½¬æ¢ï¼š</p>
<p>$$BN_{\gamma, \beta}:x_{1,..,m}\rightarrow y_{1,..,m}$$</p>
<p><img src="/2018/07/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Batch-Normalization/bn02.png"></p>
<ul>
<li><p>å¯¹äºè¾“å…¥çš„ mini-batch çš„ä¸€ä¸ªç»´åº¦ï¼Œè®¡ç®—å‡å€¼å’Œæ–¹å·®</p>
</li>
<li><p>æ ‡å‡†åŒ–ï¼ˆæ³¨æ„ epsilon é¿å…0é”™è¯¯ï¼‰</p>
</li>
<li><p>ä½¿ç”¨ä¸¤ä¸ªå‚æ•°è¿›è¡Œå¹³ç§»å’Œç¼©æ”¾</p>
</li>
</ul>
<p>è¿™é‡Œæœ‰ç‚¹ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆåœ¨ç¬¬ä¸‰æ­¥å·²ç»å®Œæˆæ ‡å‡†åŒ–çš„æƒ…å†µä¸‹è¿˜è¦è¿›è¡Œ4æ“ä½œï¼Œåæ¥å‘ç°å…¶å®ä½œè€…åœ¨å‰æ–‡å·²ç»è¯´äº†ã€‚é¦–å…ˆ $\hat x$ æ˜¯æ ‡å‡†åŒ–åçš„è¾“å‡ºï¼Œä½†æ˜¯å¦‚æœä»…ä»¥æ­¤ä¸ºè¾“å‡ºï¼Œå…¶è¾“å‡ºå°±è¢«é™å®šä¸ºäº†æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œè¿™æ ·å¾ˆå¯èƒ½ä¼šé™åˆ¶åŸå§‹ç½‘ç»œèƒ½è¡¨è¾¾çš„ä¿¡æ¯ï¼Œå‰æ–‡å·²ç”¨sigmoidå‡½æ•°è¿›è¡Œäº†ä¸¾ä¾‹è¯´æ˜ã€‚å› ä¸º $\gamma, \beta$ è¿™ä¸¤ä¸ªå‚æ•°æ˜¯å¯ä»¥å­¦ä¹ çš„ï¼Œæ‰€ä»¥çš„æ ‡å‡†åŒ–åçš„â€æ¢å¤â€ç¨‹åº¦å°†åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ç”±ç½‘ç»œè‡ªä¸»å†³å®šã€‚</p>
<p>åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼Œæ±‚æŸå¤±å‡½æ•°å¯¹å‚æ•° $\gamma, \beta$ æ±‚å¯¼ï¼š</p>
<p><img src="/2018/07/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Batch-Normalization/bn03.png"></p>
<blockquote>
<p>Thus, BN transform is a differentiable transformation that introduces normalized activations into the network. This ensures that as the model is training, layers can continue learning on input distributions that exhibit less internal covariate shift, thus accelerating the training.  </p>
</blockquote>
<p>BN æ˜¯å¯å¾®çš„ï¼Œä¿è¯æ¨¡å‹å¯è®­ç»ƒï¼Œç½‘ç»œå¯ä»¥å­¦ä¹ å¾—åˆ°è¾“å…¥çš„åˆ†å¸ƒï¼Œæ¥å‡å° internal covarite shift, ä»è€ŒåŠ é€Ÿè®­ç»ƒã€‚</p>
<h3 id="Training-and-Inference-with-Batch-Normalized-Networks"><a href="#Training-and-Inference-with-Batch-Normalized-Networks" class="headerlink" title="Training and Inference with Batch-Normalized Networks"></a>Training and Inference with Batch-Normalized Networks</h3><blockquote>
<p>The normalization of activations that depends on the mini-batch allows efficient training, but is neither necessary nor desirable during inference; we want</p>
</blockquote>
<p>the output to depend only on the input, deterministically. For this, once the network has been trained, we use the normalization  </p>
<p>$\hat x = \dfrac{x-E[x]}{\sqrt{Var[x]+\epsilon}}$  </p>
<p>using the population, rather than mini-batch, statistics.  </p>
<p><strong>åœ¨è®­ç»ƒé˜¶æ®µå’Œæ¨ç†(inference)é˜¶æ®µä¸ä¸€æ ·</strong>ï¼Œè¿™é‡Œçš„æ¨ç†é˜¶æ®µæŒ‡çš„å°±æ˜¯æµ‹è¯•é˜¶æ®µï¼Œåœ¨æµ‹è¯•é˜¶æ®µä½¿ç”¨æ€»ä½“çš„å‡å€¼ï¼Œè€Œä¸æ˜¯ mini-batch çš„å‡å€¼ã€‚</p>
<blockquote>
<p>Using moving averages instead, we can track the accuracy of a model as it trains. Since the means and variances are fixed during inference, the normalization is simply a linear transform applied to each activation.</p>
</blockquote>
<h3 id="Batch-Normalized-Convolutional-Networks"><a href="#Batch-Normalized-Convolutional-Networks" class="headerlink" title="Batch-Normalized Convolutional Networks"></a>Batch-Normalized Convolutional Networks</h3><p><img src="/2018/07/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Batch-Normalization/bn04.png"></p>
<ul>
<li><p>ç¬¬1-5æ­¥æ˜¯ç®—æ³•1çš„æµç¨‹ï¼Œå¯¹æ¯ä¸€ç»´æ ‡å‡†åŒ–ï¼Œå¾—åˆ° $N_{BN}^{tr}$  </p>
</li>
<li><p>6-7æ­¥ä¼˜åŒ–è®­ç»ƒå‚æ•° $\theta \bigcup {\gamma^{k}, \beta^{k}}$ï¼Œåœ¨æµ‹è¯•é˜¶æ®µå‚æ•°æ˜¯å›ºå®šçš„  </p>
</li>
<li><p>8-12æ­¥éª¤æ˜¯å°†è®­ç»ƒé˜¶æ®µçš„ç»Ÿè®¡ä¿¡æ¯è½¬åŒ–ä¸ºè®­ç»ƒé›†æ•´ä½“çš„ç»Ÿè®¡ä¿¡æ¯ã€‚å› ä¸ºå®Œæˆè®­ç»ƒååœ¨é¢„æµ‹é˜¶æ®µï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æ¨¡å‹å­˜å‚¨çš„æ•´ä½“çš„ç»Ÿè®¡ä¿¡æ¯ã€‚è¿™é‡Œæ¶‰åŠåˆ°é€šè¿‡æ ·æœ¬å‡å€¼å’Œæ–¹å·®ä¼°è®¡æ€»ä½“çš„å‡å€¼å’Œæ–¹å·®çš„æ— åä¼°è®¡ï¼Œæ ·æœ¬å‡å€¼æ˜¯ç­‰äºæ€»ä½“å‡å€¼çš„æ— åä¼°è®¡çš„ï¼Œè€Œæ ·æœ¬å‡å€¼ä¸ç­‰äºæ€»ä½“å‡å€¼çš„æ— åä¼°è®¡ã€‚å…·ä½“å¯çœ‹çŸ¥ä¹ä¸Šçš„è§£ç­” <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20099757">https://www.zhihu.com/question/20099757</a>  </p>
</li>
</ul>
<h3 id="Batch-Normalization-enables-higher-learning-rates"><a href="#Batch-Normalization-enables-higher-learning-rates" class="headerlink" title="Batch Normalization enables higher learning rates"></a>Batch Normalization enables higher learning rates</h3><blockquote>
<p>In traditional deep networks, too high a learning rate may result in the gradients that explode or vanish, as well as getting stuck in poor local minima.  </p>
</blockquote>
<p>å­¦ä¹ ç‡è¿‡å¤§å®¹æ˜“å‘ç”Ÿæ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸ï¼Œä»è€Œé™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚</p>
<blockquote>
<p>By normalizing activations throughout the network, it prevents small changes in layer parameters from amplifying as the data propagates through a deep network.  </p>
</blockquote>
<p>é€šè¿‡è§„èŒƒåŒ–æ•´ä¸ªç½‘ç»œä¸­çš„æ¿€æ´»ï¼Œå¯ä»¥é˜²æ­¢å±‚å‚æ•°çš„å¾®å°å˜åŒ–åœ¨æ•°æ®é€šè¿‡æ·±å±‚ç½‘ç»œä¼ æ’­æ—¶æ”¾å¤§ã€‚</p>
<blockquote>
<p>Batch Normalization also makes training more resilient to the parameter scale. Normally, large learning rates may increase the scale of layer parameters, which then amplify the gradient during backpropagation and lead to the model explosion. However, with Batch Normalization, backpropagation through a layer is unaffected by the scale of its parameters.  </p>
</blockquote>
<p>BN èƒ½è®©è®­ç»ƒæ—¶çš„å‚æ•°æ›´æœ‰å¼¹æ€§ã€‚é€šå¸¸ï¼Œå­¦ä¹ ç‡è¿‡å¤§ä¼šå¢å¤§ç½‘ç»œå‚æ•°ï¼Œåœ¨åå‘ä¼ æ’­ä¸­å¯¼è‡´æ¢¯åº¦è¿‡å¤§è€Œå‘ç”Ÿæ¢¯åº¦çˆ†ç‚¸ã€‚è€Œ BN ä½¿å¾—ç½‘ç»œä¸å—å‚æ•°çš„å¤§å°çš„å½±å“ã€‚</p>
<h3 id="æ­£åˆ™åŒ–"><a href="#æ­£åˆ™åŒ–" class="headerlink" title="æ­£åˆ™åŒ–"></a>æ­£åˆ™åŒ–</h3><p>é™¤äº†å¯ä»¥æ›´å¿«åœ°è®­ç»ƒç½‘ç»œï¼ŒBNå±‚è¿˜æœ‰å¯¹æ¨¡å‹èµ·åˆ°æ­£åˆ™åŒ–çš„ä½œç”¨ã€‚å› ä¸ºå½“è®­ç»ƒä¸€ä¸ªBNç½‘ç»œçš„æ—¶å€™ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„æ ·æœ¬ï¼Œå®ƒè¿˜å¯ä»¥â€çœ‹åˆ°â€ä¸€ä¸ªbatchä¸­å…¶ä»–çš„æƒ…å†µï¼Œè¿™æ ·ç½‘ç»œå¯¹äºä¸€ä¸ªç»™å®šçš„æ ·æœ¬è¾“å…¥æ¯æ¬¡å°±å¯ä»¥äº§ç”Ÿä¸€ä¸ªä¸ç¡®å®šçš„è¾“å‡º(å› ä¸ºæ ‡å‡†åŒ–çš„è¿‡ç¨‹å’Œbatchä¸­å…¶ä»–çš„æ ·æœ¬å‡æœ‰å…³è”)ï¼Œä½œè€…é€šè¿‡å®éªŒè¯æ˜è¿™å¯¹å‡å°‘æ¨¡å‹çš„è¿‡æ‹Ÿåˆå…·æœ‰ä½œç”¨ã€‚</p>
<h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1><p>tensorflow å·²ç»å°è£…å¥½äº† BN å±‚ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <a target="_blank" rel="noopener" href="https://www.tensorflow.org/versions/master/api_docs/python/tf/contrib/layers/batch_norm">tf.contrib.layers.batch_norm()</a> è°ƒç”¨ï¼Œå¦‚æœä½ æƒ³çŸ¥é“å‡½æ•°èƒŒåçš„å…·ä½“å®ç°æ–¹æ³•ï¼ŒåŠ æ·±å¯¹BNå±‚çš„ç†è§£ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« <a target="_blank" rel="noopener" href="https://r2rt.com/implementing-batch-normalization-in-tensorflow.html">Implementing Batch Normalization in Tensorflow</a>ã€‚</p>
<h1 id="reference"><a href="#reference" class="headerlink" title="reference:"></a>reference:</h1><ul>
<li>paper: <a target="_blank" rel="noopener" href="http://proceedings.mlr.press/v37/ioffe15.pdf">Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift</a></li>
</ul>
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1805.11604">How Does Batch Normalization Help Optimization? (No, It Is Not About Internal Covariate Shift)</a></li>
</ul>
<ul>
<li><a target="_blank" rel="noopener" href="https://byjiang.com/2017/05/17/batch_normalization/">å…³äºBatch Normalizationçš„ä¸€äº›é˜…è¯»ç†è§£</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-07-10T06:17:15.000Z" title="2018/7/10 ä¸‹åˆ2:17:15">2018-07-10</time>å‘è¡¨</span><span class="level-item"><time dateTime="2021-06-29T08:12:08.522Z" title="2021/6/29 ä¸‹åˆ4:12:08">2021-06-29</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">è®ºæ–‡ç¬”è®°</a><span>Â /Â </span><a class="link-muted" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/DL/">DL</a></span><span class="level-item">14 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2116ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/">æœºå™¨å­¦ä¹ -è¿‡æ‹Ÿåˆ</a></h1><div class="content"><p>è¿‡æ‹Ÿåˆçš„åŸç†ä»¥åŠè§£å†³æ–¹æ³•ã€‚</p>
<h2 id="Overfitting"><a href="#Overfitting" class="headerlink" title="Overfitting"></a>Overfitting</h2><p>è¿‡æ‹Ÿåˆï¼ˆoverfittingï¼‰æ˜¯æŒ‡åœ¨æ¨¡å‹å‚æ•°æ‹Ÿåˆè¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œç”±äºè®­ç»ƒæ•°æ®åŒ…å«æŠ½æ ·è¯¯å·®ï¼Œè®­ç»ƒæ—¶ï¼Œå¤æ‚çš„æ¨¡å‹å°†æŠ½æ ·è¯¯å·®ä¹Ÿè€ƒè™‘åœ¨å†…ï¼Œå°†æŠ½æ ·è¯¯å·®ä¹Ÿè¿›è¡Œäº†å¾ˆå¥½çš„æ‹Ÿåˆã€‚</p>
<p>å…·ä½“è¡¨ç°å°±æ˜¯æœ€ç»ˆæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šæ•ˆæœå¥½ï¼›åœ¨æµ‹è¯•é›†ä¸Šæ•ˆæœå·®ã€‚æ¨¡å‹æ³›åŒ–èƒ½åŠ›å¼±ã€‚</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C01.jpeg"></p>
<h2 id="ä¸ºä»€ä¹ˆè¦è§£å†³è¿‡æ‹Ÿåˆ"><a href="#ä¸ºä»€ä¹ˆè¦è§£å†³è¿‡æ‹Ÿåˆ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è§£å†³è¿‡æ‹Ÿåˆ"></a>ä¸ºä»€ä¹ˆè¦è§£å†³è¿‡æ‹Ÿåˆ</h2><p>ä¸ºä»€ä¹ˆè¦è§£å†³è¿‡æ‹Ÿåˆç°è±¡ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ‹Ÿåˆçš„æ¨¡å‹ä¸€èˆ¬æ˜¯ç”¨æ¥é¢„æµ‹æœªçŸ¥çš„ç»“æœï¼ˆä¸åœ¨è®­ç»ƒé›†å†…ï¼‰ï¼Œè¿‡æ‹Ÿåˆè™½ç„¶åœ¨è®­ç»ƒé›†ä¸Šæ•ˆæœå¥½ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨æ—¶ï¼ˆæµ‹è¯•é›†ï¼‰æ•ˆæœå·®ã€‚åŒæ—¶ï¼Œåœ¨å¾ˆå¤šé—®é¢˜ä¸Šï¼Œæˆ‘ä»¬æ— æ³•ç©·å°½æ‰€æœ‰çŠ¶æ€ï¼Œä¸å¯èƒ½å°†æ‰€æœ‰æƒ…å†µéƒ½åŒ…å«åœ¨è®­ç»ƒé›†ä¸Šã€‚æ‰€ä»¥ï¼Œå¿…é¡»è¦è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ã€‚</p>
<p>ä¸ºä»€ä¹ˆåœ¨æœºå™¨å­¦ä¹ ä¸­æ¯”è¾ƒå¸¸è§ï¼Ÿè¿™æ˜¯å› ä¸ºæœºå™¨å­¦ä¹ ç®—æ³•ä¸ºäº†æ»¡è¶³å°½å¯èƒ½å¤æ‚çš„ä»»åŠ¡ï¼Œå…¶æ¨¡å‹çš„æ‹Ÿåˆèƒ½åŠ›ä¸€èˆ¬è¿œè¿œé«˜äºé—®é¢˜å¤æ‚åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•æœ‰ã€Œæ‹Ÿåˆå‡ºæ­£ç¡®è§„åˆ™çš„å‰æä¸‹ï¼Œè¿›ä¸€æ­¥æ‹Ÿåˆå™ªå£°ã€çš„èƒ½åŠ›ã€‚</p>
<p>è€Œä¼ ç»Ÿçš„å‡½æ•°æ‹Ÿåˆé—®é¢˜ï¼ˆå¦‚æœºå™¨äººç³»ç»Ÿè¾¨è¯†ï¼‰ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ç»éªŒã€ç‰©ç†ã€æ•°å­¦ç­‰æ¨å¯¼å‡ºä¸€ä¸ªå«å‚æ¨¡å‹ï¼Œæ¨¡å‹å¤æ‚åº¦ç¡®å®šäº†ï¼Œåªéœ€è¦è°ƒæ•´ä¸ªåˆ«å‚æ•°å³å¯ã€‚æ¨¡å‹ã€Œæ— å¤šä½™èƒ½åŠ›ã€æ‹Ÿåˆå™ªå£°ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="è·å–æ›´å¤šæ•°æ®"><a href="#è·å–æ›´å¤šæ•°æ®" class="headerlink" title="è·å–æ›´å¤šæ•°æ®"></a>è·å–æ›´å¤šæ•°æ®</h3><p>è¿™æ˜¯è§£å†³è¿‡æ‹Ÿåˆæœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œåªè¦ç»™è¶³å¤Ÿå¤šçš„æ•°æ®ï¼Œè®©æ¨¡å‹ã€Œçœ‹è§ã€å°½å¯èƒ½å¤šçš„ã€Œä¾‹å¤–æƒ…å†µã€ï¼Œå®ƒå°±ä¼šä¸æ–­ä¿®æ­£è‡ªå·±ï¼Œä»è€Œå¾—åˆ°æ›´å¥½çš„ç»“æœï¼š</p>
<p>å¦‚ä½•è·å–æ›´å¤šæ•°æ®ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><p>ä»æ•°æ®æºå¤´è·å–æ›´å¤šæ•°æ®ï¼šè¿™ä¸ªæ˜¯å®¹æ˜“æƒ³åˆ°çš„ï¼Œä¾‹å¦‚ç‰©ä½“åˆ†ç±»ï¼Œæˆ‘å°±å†å¤šæ‹å‡ å¼ ç…§ç‰‡å¥½äº†ï¼›ä½†æ˜¯ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¤§å¹…å¢åŠ æ•°æ®æœ¬èº«å°±ä¸å®¹æ˜“ï¼›å¦å¤–ï¼Œæˆ‘ä»¬ä¸æ¸…æ¥šè·å–å¤šå°‘æ•°æ®æ‰ç®—å¤Ÿï¼›</p>
</li>
<li><p>æ ¹æ®å½“å‰æ•°æ®é›†ä¼°è®¡æ•°æ®åˆ†å¸ƒå‚æ•°ï¼Œä½¿ç”¨è¯¥åˆ†å¸ƒäº§ç”Ÿæ›´å¤šæ•°æ®ï¼šè¿™ä¸ªä¸€èˆ¬ä¸ç”¨ï¼Œå› ä¸ºä¼°è®¡åˆ†å¸ƒå‚æ•°çš„è¿‡ç¨‹ä¹Ÿä¼šä»£å…¥æŠ½æ ·è¯¯å·®ã€‚</p>
</li>
<li><p>æ•°æ®å¢å¼ºï¼ˆData Augmentationï¼‰ï¼šé€šè¿‡ä¸€å®šè§„åˆ™æ‰©å……æ•°æ®ã€‚å¦‚åœ¨ç‰©ä½“åˆ†ç±»é—®é¢˜é‡Œï¼Œç‰©ä½“åœ¨å›¾åƒä¸­çš„ä½ç½®ã€å§¿æ€ã€å°ºåº¦ï¼Œæ•´ä½“å›¾ç‰‡æ˜æš—åº¦ç­‰éƒ½ä¸ä¼šå½±å“åˆ†ç±»ç»“æœã€‚æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å›¾åƒå¹³ç§»ã€ç¿»è½¬ã€ç¼©æ”¾ã€åˆ‡å‰²ç­‰æ‰‹æ®µå°†æ•°æ®åº“æˆå€æ‰©å……ï¼›</p>
</li>
</ul>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C02.jpeg"></p>
<h3 id="ä½¿ç”¨åˆé€‚çš„æ¨¡å‹"><a href="#ä½¿ç”¨åˆé€‚çš„æ¨¡å‹" class="headerlink" title="ä½¿ç”¨åˆé€‚çš„æ¨¡å‹"></a>ä½¿ç”¨åˆé€‚çš„æ¨¡å‹</h3><p>å‰é¢è¯´äº†ï¼Œè¿‡æ‹Ÿåˆä¸»è¦æ˜¯æœ‰ä¸¤ä¸ªåŸå› é€ æˆçš„ï¼šæ•°æ®å¤ªå°‘+æ¨¡å‹å¤ªå¤æ‚ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨åˆé€‚å¤æ‚åº¦çš„æ¨¡å‹æ¥é˜²æ­¢è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè®©å…¶è¶³å¤Ÿæ‹ŸåˆçœŸæ­£çš„è§„åˆ™ï¼ŒåŒæ—¶åˆä¸è‡³äºæ‹Ÿåˆå¤ªå¤šæŠ½æ ·è¯¯å·®ã€‚</p>
<p>ï¼ˆPSï¼šå¦‚æœèƒ½é€šè¿‡ç‰©ç†ã€æ•°å­¦å»ºæ¨¡ï¼Œç¡®å®šæ¨¡å‹å¤æ‚åº¦ï¼Œè¿™æ˜¯æœ€å¥½çš„æ–¹æ³•ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ·±åº¦å­¦ä¹ è¿™ä¹ˆç«çš„ç°åœ¨ï¼Œæˆ‘è¿˜åšæŒè¯´åˆå­¦è€…è¦å­¦æŒæ¡ä¼ ç»Ÿçš„å»ºæ¨¡æ–¹æ³•ã€‚ï¼‰</p>
<p>å¯¹äºç¥ç»ç½‘ç»œè€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸‹å››ä¸ªæ–¹é¢æ¥é™åˆ¶ç½‘ç»œèƒ½åŠ›ï¼š</p>
<h4 id="ç½‘ç»œç»“æ„-Architecture"><a href="#ç½‘ç»œç»“æ„-Architecture" class="headerlink" title="ç½‘ç»œç»“æ„ Architecture"></a>ç½‘ç»œç»“æ„ Architecture</h4><p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå‡å°‘ç½‘ç»œçš„å±‚æ•°ã€ç¥ç»å…ƒä¸ªæ•°ç­‰å‡å¯ä»¥é™åˆ¶ç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›ï¼›</p>
<h4 id="è®­ç»ƒæ—¶é—´-Early-stopping"><a href="#è®­ç»ƒæ—¶é—´-Early-stopping" class="headerlink" title="è®­ç»ƒæ—¶é—´ Early stopping"></a>è®­ç»ƒæ—¶é—´ Early stopping</h4><p>å¯¹äºæ¯ä¸ªç¥ç»å…ƒè€Œè¨€ï¼Œå…¶æ¿€æ´»å‡½æ•°åœ¨ä¸åŒåŒºé—´çš„æ€§èƒ½æ˜¯ä¸åŒçš„ï¼š</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C03.jpg"></p>
<p>å½“ç½‘ç»œæƒå€¼è¾ƒå°æ—¶ï¼Œç¥ç»å…ƒçš„æ¿€æ´»å‡½æ•°å·¥ä½œåœ¨çº¿æ€§åŒºï¼Œæ­¤æ—¶ç¥ç»å…ƒçš„æ‹Ÿåˆèƒ½åŠ›è¾ƒå¼±ï¼ˆç±»ä¼¼çº¿æ€§ç¥ç»å…ƒï¼‰ã€‚</p>
<p>æœ‰äº†ä¸Šè¿°å…±è¯†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆé™åˆ¶è®­ç»ƒæ—¶é—´ï¼ˆearly stoppingï¼‰æœ‰ç”¨ï¼šå› ä¸ºæˆ‘ä»¬åœ¨åˆå§‹åŒ–ç½‘ç»œçš„æ—¶å€™ä¸€èˆ¬éƒ½æ˜¯åˆå§‹ä¸ºè¾ƒå°çš„æƒå€¼ã€‚è®­ç»ƒæ—¶é—´è¶Šé•¿ï¼Œéƒ¨åˆ†ç½‘ç»œæƒå€¼å¯èƒ½è¶Šå¤§ã€‚å¦‚æœæˆ‘ä»¬åœ¨åˆé€‚æ—¶é—´åœæ­¢è®­ç»ƒï¼Œå°±å¯ä»¥å°†ç½‘ç»œçš„èƒ½åŠ›é™åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…ã€‚</p>
<h4 id="é™åˆ¶æƒå€¼-Weight-decayï¼Œä¹Ÿå«æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰"><a href="#é™åˆ¶æƒå€¼-Weight-decayï¼Œä¹Ÿå«æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰" class="headerlink" title="é™åˆ¶æƒå€¼ Weight-decayï¼Œä¹Ÿå«æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰"></a>é™åˆ¶æƒå€¼ Weight-decayï¼Œä¹Ÿå«æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰</h4><p>åŸç†åŒä¸Šï¼Œä½†æ˜¯è¿™ç±»æ–¹æ³•ç›´æ¥å°†æƒå€¼çš„å¤§å°åŠ å…¥åˆ° Cost é‡Œï¼Œåœ¨è®­ç»ƒçš„æ—¶å€™é™åˆ¶æƒå€¼å˜å¤§ã€‚ä»¥ L2 regularizationä¸ºä¾‹ï¼š</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C04.svg"></p>
<p>è®­ç»ƒè¿‡ç¨‹éœ€è¦é™ä½æ•´ä½“çš„ Costï¼Œè¿™æ—¶å€™ï¼Œä¸€æ–¹é¢èƒ½é™ä½å®é™…è¾“å‡ºä¸æ ·æœ¬ä¹‹é—´çš„è¯¯å·® ï¼Œä¹Ÿèƒ½é™ä½æƒå€¼å¤§å°ã€‚</p>
<h4 id="å¢åŠ å™ªå£°-Noise"><a href="#å¢åŠ å™ªå£°-Noise" class="headerlink" title="å¢åŠ å™ªå£° Noise"></a>å¢åŠ å™ªå£° Noise</h4><p>ç»™ç½‘ç»œåŠ å™ªå£°ä¹Ÿæœ‰å¾ˆå¤šæ–¹æ³•ï¼š</p>
<h5 id="åœ¨è¾“å…¥ä¸­åŠ å™ªå£°ï¼š"><a href="#åœ¨è¾“å…¥ä¸­åŠ å™ªå£°ï¼š" class="headerlink" title="åœ¨è¾“å…¥ä¸­åŠ å™ªå£°ï¼š"></a>åœ¨è¾“å…¥ä¸­åŠ å™ªå£°ï¼š</h5><p>å™ªå£°ä¼šéšç€ç½‘ç»œä¼ æ’­ï¼ŒæŒ‰ç…§æƒå€¼çš„å¹³æ–¹æ”¾å¤§ï¼Œå¹¶ä¼ æ’­åˆ°è¾“å‡ºå±‚ï¼Œå¯¹è¯¯å·® Cost äº§ç”Ÿå½±å“ã€‚æ¨å¯¼ç›´æ¥çœ‹ Hinton çš„ PPT å§ï¼š</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C05.jpeg"></p>
<p>åœ¨è¾“å…¥ä¸­åŠ é«˜æ–¯å™ªå£°ï¼Œä¼šåœ¨è¾“å‡ºä¸­ç”Ÿæˆ çš„å¹²æ‰°é¡¹ã€‚è®­ç»ƒæ—¶ï¼Œå‡å°è¯¯å·®ï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹å™ªå£°äº§ç”Ÿçš„å¹²æ‰°é¡¹è¿›è¡Œæƒ©ç½šï¼Œè¾¾åˆ°å‡å°æƒå€¼çš„å¹³æ–¹çš„ç›®çš„ï¼Œè¾¾åˆ°ä¸ L2 regularization ç±»ä¼¼çš„æ•ˆæœï¼ˆå¯¹æ¯”å…¬å¼ï¼‰ã€‚</p>
<h4 id="åœ¨æƒå€¼ä¸ŠåŠ å™ªå£°"><a href="#åœ¨æƒå€¼ä¸ŠåŠ å™ªå£°" class="headerlink" title="åœ¨æƒå€¼ä¸ŠåŠ å™ªå£°"></a>åœ¨æƒå€¼ä¸ŠåŠ å™ªå£°</h4><p>åœ¨åˆå§‹åŒ–ç½‘ç»œçš„æ—¶å€™ï¼Œç”¨0å‡å€¼çš„é«˜æ–¯åˆ†å¸ƒä½œä¸ºåˆå§‹åŒ–ã€‚Alex Graves çš„æ‰‹å†™è¯†åˆ« RNN å°±æ˜¯ç”¨äº†è¿™ä¸ªæ–¹æ³•</p>
<blockquote>
<p>Graves, Alex, et al. â€œA novel connectionist system for unconstrained handwriting recognition.â€ IEEE transactions on pattern analysis and machine intelligence 31.5 (2009): 855-868.</p>
</blockquote>
<ul>
<li>It may work better, especially in recurrent networks (Hinton)</li>
</ul>
<h4 id="å¯¹ç½‘ç»œçš„å“åº”åŠ å™ªå£°"><a href="#å¯¹ç½‘ç»œçš„å“åº”åŠ å™ªå£°" class="headerlink" title="å¯¹ç½‘ç»œçš„å“åº”åŠ å™ªå£°"></a>å¯¹ç½‘ç»œçš„å“åº”åŠ å™ªå£°</h4><p>å¦‚åœ¨å‰å‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œè®©é»˜å†™ç¥ç»å…ƒçš„è¾“å‡ºå˜ä¸º binary æˆ– randomã€‚æ˜¾ç„¶ï¼Œè¿™ç§æœ‰ç‚¹ä¹±æ¥çš„åšæ³•ä¼šæ‰“ä¹±ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ï¼Œè®©è®­ç»ƒæ›´æ…¢ï¼Œä½†æ® Hinton è¯´ï¼Œåœ¨æµ‹è¯•é›†ä¸Šæ•ˆæœä¼šæœ‰æ˜¾è‘—æå‡ ï¼ˆBut it does significantly better on the test set!ï¼‰ã€‚</p>
<h3 id="ç»“åˆå¤šç§æ¨¡å‹"><a href="#ç»“åˆå¤šç§æ¨¡å‹" class="headerlink" title="ç»“åˆå¤šç§æ¨¡å‹"></a>ç»“åˆå¤šç§æ¨¡å‹</h3><p>ç®€è€Œè¨€ä¹‹ï¼Œè®­ç»ƒå¤šä¸ªæ¨¡å‹ï¼Œä»¥æ¯ä¸ªæ¨¡å‹çš„å¹³å‡è¾“å‡ºä½œä¸ºç»“æœã€‚</p>
<p>ä» N ä¸ªæ¨¡å‹é‡Œéšæœºé€‰æ‹©ä¸€ä¸ªä½œä¸ºè¾“å‡ºçš„æœŸæœ›è¯¯å·® ï¼Œä¼šæ¯”æ‰€æœ‰æ¨¡å‹çš„å¹³å‡è¾“å‡ºçš„è¯¯å·® å¤§ï¼ˆæˆ‘ä¸çŸ¥é“å…¬å¼é‡Œçš„åœ†æ‹¬å·ä¸ºä»€ä¹ˆæ˜¾ç¤ºä¸äº†ï¼‰ï¼š</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C07.jpeg"></p>
<p>å¤§æ¦‚åŸºäºè¿™ä¸ªåŸç†ï¼Œå°±å¯ä»¥æœ‰å¾ˆå¤šæ–¹æ³•äº†ï¼š</p>
<h4 id="Bagging"><a href="#Bagging" class="headerlink" title="Bagging"></a>Bagging</h4><p>ç®€å•ç†è§£ï¼Œå°±æ˜¯åˆ†æ®µå‡½æ•°çš„æ¦‚å¿µï¼šç”¨ä¸åŒçš„æ¨¡å‹æ‹Ÿåˆä¸åŒéƒ¨åˆ†çš„è®­ç»ƒé›†ã€‚ä»¥éšæœºæ£®æ—ï¼ˆRand Forestsï¼‰ä¸ºä¾‹ï¼Œå°±æ˜¯è®­ç»ƒäº†ä¸€å †äº’ä¸å…³è”çš„å†³ç­–æ ‘ã€‚ä½†ç”±äºè®­ç»ƒç¥ç»ç½‘ç»œæœ¬èº«å°±éœ€è¦è€—è´¹è¾ƒå¤šè‡ªç”±ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ç¥ç»ç½‘ç»œåšBaggingã€‚</p>
<h4 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a>Boosting</h4><p>æ—¢ç„¶è®­ç»ƒå¤æ‚ç¥ç»ç½‘ç»œæ¯”è¾ƒæ…¢ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥åªä½¿ç”¨ç®€å•çš„ç¥ç»ç½‘ç»œï¼ˆå±‚æ•°ã€ç¥ç»å…ƒæ•°é™åˆ¶ç­‰ï¼‰ã€‚é€šè¿‡è®­ç»ƒä¸€ç³»åˆ—ç®€å•çš„ç¥ç»ç½‘ç»œï¼ŒåŠ æƒå¹³å‡å…¶è¾“å‡ºã€‚</p>
<p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C06.jpeg"></p>
<h4 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h4><p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C08.jpeg"></p>
<p>åœ¨è®­ç»ƒæ—¶ï¼Œæ¯æ¬¡éšæœºï¼ˆå¦‚50%æ¦‚ç‡ï¼‰å¿½ç•¥éšå±‚çš„æŸäº›èŠ‚ç‚¹ï¼›è¿™æ ·ï¼Œæˆ‘ä»¬ç›¸å½“äºéšæœºä»2^Hä¸ªæ¨¡å‹ä¸­é‡‡æ ·é€‰æ‹©æ¨¡å‹ï¼›åŒæ—¶ï¼Œç”±äºæ¯ä¸ªç½‘ç»œåªè§è¿‡ä¸€ä¸ªè®­ç»ƒæ•°æ®ï¼ˆæ¯æ¬¡éƒ½æ˜¯éšæœºçš„æ–°ç½‘ç»œï¼‰ï¼Œæ‰€ä»¥ç±»ä¼¼ bagging çš„åšæ³•ï¼Œè¿™å°±æ˜¯æˆ‘ä¸ºä»€ä¹ˆå°†å®ƒåˆ†ç±»åˆ°ã€Œç»“åˆå¤šç§æ¨¡å‹ã€ä¸­ï¼›</p>
<p>æ­¤å¤–ï¼Œè€Œä¸åŒæ¨¡å‹ä¹‹é—´æƒå€¼å…±äº«ï¼ˆå…±åŒä½¿ç”¨è¿™ H ä¸ªç¥ç»å…ƒçš„è¿æ¥æƒå€¼ï¼‰ï¼Œç›¸å½“äºä¸€ç§æƒå€¼æ­£åˆ™æ–¹æ³•ï¼Œå®é™…æ•ˆæœæ¯” L2 regularization æ›´å¥½ã€‚</p>
<h3 id="è´å¶æ–¯æ–¹æ³•"><a href="#è´å¶æ–¯æ–¹æ³•" class="headerlink" title="è´å¶æ–¯æ–¹æ³•"></a>è´å¶æ–¯æ–¹æ³•</h3><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><img src="/2018/07/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-%E8%BF%87%E6%8B%9F%E5%90%88%5C09.jpeg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-07-06T02:32:32.000Z" title="2018/7/6 ä¸Šåˆ10:32:32">2018-07-06</time>å‘è¡¨</span><span class="level-item"><time dateTime="2021-06-29T08:12:08.200Z" title="2021/6/29 ä¸‹åˆ4:12:08">2021-06-29</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></span><span class="level-item">16 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦2440ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/06/%E7%AE%97%E6%B3%95-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">ç®—æ³•-æ’åºç®—æ³•</a></h1><div class="content"><p>å‰‘æŒ‡offer ç¬¬äºŒç« -é¢è¯•éœ€è¦çš„åŸºç¡€çŸ¥è¯†</p></div><a class="article-more button is-small is-size-7" href="/2018/07/06/%E7%AE%97%E6%B3%95-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#more">é˜…è¯»æ›´å¤š</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/15/">ä¸Šä¸€é¡µ</a></div><div class="pagination-next"><a href="/page/17/">ä¸‹ä¸€é¡µ</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/15/">15</a></li><li><a class="pagination-link is-current" href="/page/16/">16</a></li><li><a class="pagination-link" href="/page/17/">17</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/24/">24</a></li></ul></nav></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="panxiaoxie"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">panxiaoxie</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">120</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">40</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">37</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/PanXiebit" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/PanXiebit"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/ftdpanxie@gmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/PanXiebit" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="ftdpanxie@gmail.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">email</span></span><span class="level-right"><span class="level-item tag">ftdpanxie@gmail.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CSAPP/"><span class="level-start"><span class="level-item">CSAPP</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/DRL/"><span class="level-start"><span class="level-item">DRL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/GAN/"><span class="level-start"><span class="level-item">GAN</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/GAN-RL/"><span class="level-start"><span class="level-item">GAN, RL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/ML/"><span class="level-start"><span class="level-item">ML</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/cs224d/"><span class="level-start"><span class="level-item">cs224d</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/generation/"><span class="level-start"><span class="level-item">generation</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/generative-models/"><span class="level-start"><span class="level-item">generative models</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/interview/"><span class="level-start"><span class="level-item">interview</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/machine-translation/"><span class="level-start"><span class="level-item">machine translation</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/pytorch/"><span class="level-start"><span class="level-item">pytorch</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/reinforcement-learning/"><span class="level-start"><span class="level-item">reinforcement learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/sign-language-recognition/"><span class="level-start"><span class="level-item">sign language recognition</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/transfer-learning/"><span class="level-start"><span class="level-item">transfer learning</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/transformer/"><span class="level-start"><span class="level-item">transformer</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">æ•°æ®ç»“æ„ä¸ç®—æ³•</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/"><span class="level-start"><span class="level-item">æ–‡æœ¬åˆ†ç±»</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">è®ºæ–‡ç¬”è®°</span></span><span class="level-end"><span class="level-item tag">40</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/DL/"><span class="level-start"><span class="level-item">DL</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/ESA/"><span class="level-start"><span class="level-item">ESA</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/GAN/"><span class="level-start"><span class="level-item">GAN</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/MRC-and-QA/"><span class="level-start"><span class="level-item">MRC and QA</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/Machine-Translation/"><span class="level-start"><span class="level-item">Machine Translation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/Transformer/"><span class="level-start"><span class="level-item">Transformer</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/capsules/"><span class="level-start"><span class="level-item">capsules</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/computer-vision/"><span class="level-start"><span class="level-item">computer vision</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/constrast-learning/"><span class="level-start"><span class="level-item">constrast learning</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/data-augmentation/"><span class="level-start"><span class="level-item">data augmentation</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/dialogue-system/"><span class="level-start"><span class="level-item">dialogue system</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/language-model/"><span class="level-start"><span class="level-item">language model</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/machine-translation/"><span class="level-start"><span class="level-item">machine translation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/open-set-recognition/"><span class="level-start"><span class="level-item">open set recognition</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/sentence-embedding/"><span class="level-start"><span class="level-item">sentence embedding</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/text-matching/"><span class="level-start"><span class="level-item">text matching</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/vision-language/"><span class="level-start"><span class="level-item">vision-language</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/panxiaoxie.png" alt="æ½˜å°æ¦­" height="28"></a><p class="is-size-7"><span>&copy; 2021 Xie Pan</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>