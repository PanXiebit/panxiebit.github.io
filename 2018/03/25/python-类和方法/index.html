<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>类和方法 - 潘小榭</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="black"><meta name="application-name" content="panxiaoxie"><meta name="msapplication-TileImage" content="/img/avatar.png"><meta name="msapplication-TileColor" content="black"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="panxiaoxie"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Python的OOP模型主要思想：在一堆对象中查找属性，并为函数定一个特殊的第一个参数。"><meta property="og:type" content="blog"><meta property="og:title" content="panxiaoxie"><meta property="og:url" content="https://github.com/PanXiebit"><meta property="og:site_name" content="panxiaoxie"><meta property="og:description" content="Python的OOP模型主要思想：在一堆对象中查找属性，并为函数定一个特殊的第一个参数。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.qt86.com/cache/1625298592_187938.png"><meta property="article:published_time" content="2018-03-25T05:47:40.000Z"><meta property="article:modified_time" content="2021-01-27T08:44:33.002Z"><meta property="article:author" content="panxiaoxie"><meta property="article:tag" content="python"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://www.qt86.com/cache/1625298592_187938.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.panxiaoxie.cn/2018/03/25/python-%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95/"},"headline":"类和方法","image":["http://www.panxiaoxie.cn/img/og_image.png"],"datePublished":"2018-03-25T05:47:40.000Z","dateModified":"2021-01-27T08:44:33.002Z","author":{"@type":"Person","name":"Xie Pan"},"publisher":{"@type":"Organization","name":"潘小榭","logo":{"@type":"ImageObject","url":"http://www.panxiaoxie.cn/img/panxiaoxie.png"}},"description":"Python的OOP模型主要思想：在一堆对象中查找属性，并为函数定一个特殊的第一个参数。"}</script><link rel="canonical" href="http://www.panxiaoxie.cn/2018/03/25/python-%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95/"><link rel="icon" href="/img/avatar.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/panxiaoxie.png" alt="潘小榭" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于我</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/PanXiebit"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-10-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-03-25T05:47:40.000Z" title="2018/3/25 下午1:47:40">2018-03-25</time>发表</span><span class="level-item"><time dateTime="2021-01-27T08:44:33.002Z" title="2021/1/27 下午4:44:33">2021-01-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/python/">python</a></span><span class="level-item">21 分钟读完 (大约3076个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">类和方法</h1><div class="content"><p>Python的OOP模型主要思想：在一堆对象中查找属性，并为函数定一个特殊的第一个参数。</p>
<span id="more"></span>



<hr>
<h3 id="1-类代码编写基础"><a href="#1-类代码编写基础" class="headerlink" title="1. 类代码编写基础"></a>1. 类代码编写基础</h3><h4 id="1-1-类和实例化"><a href="#1-1-类和实例化" class="headerlink" title="1.1 类和实例化"></a>1.1 类和实例化</h4><p>python面向对象中有两种对象：类对象和实例对象。</p>
<p>类对象提供默认行为，实例对象是程序处理的实际对象：各自都有自己的命名空间。</p>
<p>在class语句内，任何赋值语句都会产生类属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShareDate</span>:</span></span><br><span class="line"></span><br><span class="line">  spam = <span class="number">42</span>    <span class="comment"># 不是在__init__函数中，有点类似于C++的静态成员变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = ShareDate()</span><br><span class="line"></span><br><span class="line">y = ShareDate()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x.spam)   <span class="comment"># 42</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(y.spam)   <span class="comment"># 42</span></span><br><span class="line"></span><br><span class="line">ShareDate.spam = <span class="number">89</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x.spam)   <span class="comment"># 89</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(y.spam)   <span class="comment"># 89</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-2-类方法"><a href="#1-2-类方法" class="headerlink" title="1.2 类方法"></a>1.2 类方法</h4><p>类方法：与普通的def函数不同的是，类中的方法第一个参数是self，即引用正处理的实例对象。self参数同C++的this指针很相似。</p>
<h4 id="1-3-类继承，重载"><a href="#1-3-类继承，重载" class="headerlink" title="1.3 类继承，重载"></a>1.3 类继承，重载</h4><p>除了继承和重载，在子类中还可以重新定制构造函数，这也是很常见的。在1.8中会通过完整的例子来讲定制构造函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstClass</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setdata</span>(<span class="params">self, value</span>):</span></span><br><span class="line"></span><br><span class="line">        self.data = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(self.data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecondClass</span>(<span class="params">FirstClass</span>):</span>  <span class="comment"># 类继承</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span>(<span class="params">self</span>):</span>          <span class="comment"># 类函数的重载</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;current value = &quot;%s&quot; &#x27;</span>%self.data)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">z = SecondClass()</span><br><span class="line"></span><br><span class="line">z.setdata(<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">z.display()  <span class="comment"># current value = &quot;42&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-4-类是模块的属性"><a href="#1-4-类是模块的属性" class="headerlink" title="1.4 类是模块的属性"></a>1.4 类是模块的属性</h4><p>类名称总是存在与模块文件中的，类是模块对象的属性。类和模块都是命名空间，但类对应于语句（而不是整个文件），而且支持多个实例、继承以及运算符重载这些OOP概念。</p>
<p>需理解_<em>init</em>_.py文件。</p>
<h4 id="1-5-运算符重载，类可以截获Python运算符"><a href="#1-5-运算符重载，类可以截获Python运算符" class="headerlink" title="1.5 运算符重载，类可以截获Python运算符"></a>1.5 运算符重载，类可以截获Python运算符</h4><p>实际上，“运算符重载”只是意味着在类方法中拦截内置的操作……当类的实例出现在内置操作中，Python自动调用你的方法，并且你的方法的返回值变成了相应操作的结果。以下是对重载的关键概念的复习：</p>
<ul>
<li><p>运算符重载让类拦截常规的Python运算。</p>
</li>
<li><p>类可重载所有Python表达式运算符</p>
</li>
<li><p>类可以重载打印、函数调用、属性点号运算等内置运算</p>
</li>
<li><p>重载使类实例的行为像内置类型。</p>
</li>
<li><p>重载是通过特殊名称的类方法来实现的。</p>
</li>
</ul>
<p>举个栗子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThirdClass</span>(<span class="params">SecondClass</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, value</span>):</span></span><br><span class="line"></span><br><span class="line">        self.data = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span>(<span class="params">self, other</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ThirdClass(self.data + other)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;__str__ is called&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[ThirdClass: %s]&quot;</span> % self.data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mul</span>(<span class="params">self, other</span>):</span></span><br><span class="line"></span><br><span class="line">        self.data *= other</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = ThirdClass(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"></span><br><span class="line">a.display()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)       <span class="comment"># 自动调用__str__</span></span><br><span class="line"></span><br><span class="line">b = a + <span class="string">&quot;xyz&quot;</span>  <span class="comment"># 自动调用__add__</span></span><br><span class="line"></span><br><span class="line">b.display()</span><br><span class="line"></span><br><span class="line">a.mul(<span class="number">3</span>)       <span class="comment"># 显示结果与python内置类型的行为不同</span></span><br><span class="line"></span><br><span class="line">a.display()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行结果：</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">current value = <span class="string">&quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line">__str__ <span class="keyword">is</span> called</span><br><span class="line"></span><br><span class="line">[ThirdClass: abc]</span><br><span class="line"></span><br><span class="line">current value = <span class="string">&quot;abcxyz&quot;</span></span><br><span class="line"></span><br><span class="line">current value = <span class="string">&quot;abcabcabc&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>意思就是，当你的类出现在内置函数比如+，print这样的表达式中，就会被_<em>add_</em>,__str__这样的类方法拦截。但如果在你的类中，没有定义这样的方法，就会很有可能报错了～那么，为什么会拦截呢？还需要看底层代码～猜想应该是对自定义的类执行+操作时，就会自动从类树中寻找__add__方法吧～</p>
<p>| 方法     |    重载 | 调用  |</p>
<p>| —————| ———| ————————–|</p>
<p>| _<em>init_</em>  | 构造函数 |  对象建立：X = Class（args）|</p>
<p>|_<em>del</em>_    |析构函数|    X对象收回|</p>
<p>|_<em>add</em>_    |运算符 + |    如果没有__iadd__， X + Y, X += Y</p>
<p>|_<em>or</em>_    |运算符（位OR）|    如果没有_<em>ior_</em></p>
<p>|_<em>repr_</em>, _<em>str</em>_|    打印、转换|    print(X), repr(X), str(X)</p>
<p>|_<em>call</em>_    |函数调用|    X(*args, **kargs)</p>
<p>|_<em>getattr</em>_|    点号运算|    X.undefined</p>
<p>|_<em>setattr</em>_|    属性赋值语句|    X.any = value</p>
<p>|_<em>delattr</em>_|    属性删除|    del X.any</p>
<p>|_<em>getattribute</em>_|    属性获取    |X.any</p>
<p>|_<em>getitem</em>_|    索引运算|X[key],X[i:j]，没__iter__时的for循环和其他迭代器</p>
<p>|_<em>setitem</em>_    |索引赋值语句|    X[key] = value, X[i:j] = sequence</p>
<p>|_<em>delitem</em>_|索引和分片删除|    del X[key],  del X[i:j]</p>
<p>|_<em>len</em>_|    长度    |len(X), 如果没有__bool__， 真值测试</p>
<p>|_<em>bool</em>_|    布尔测试|    bool(X), 真测试（在Python 2.6中叫做__nonzero__）</p>
<p>|_<em>lt_</em>, _<em>gt_</em>,_<em>lt_</em>,_<em>ge_</em>,_<em>eq_</em>, _<em>ne</em><em>|特定比较|    X&lt;Y, X&gt;Y, X&lt;=Y, X&gt;=Y, X == Y, X != Y(或者在Python 2.6中只有_<em>cmp</em></em>)</p>
<p>|_<em>radd</em>_|    右侧加法|    Other + X</p>
<p>|_<em>iadd</em><em>|    实地（增强的）加法|    X += Y(or else _<em>add</em></em>)</p>
<p>|_<em>iter_</em>, _<em>next_</em>    |迭代环境|    I = iter(X), next(I); for loops, in  if no _<em>contains_</em>, all comprehensions, map(F, X), 其他(__next__在Python2.6中成为next)</p>
<p>|_<em>contains</em>_    |成员关系测试|    item in X(任何可迭代的)</p>
<p>|_<em>index</em>_|    整数值    |hex(X), bin(X), oct(X), O[X], O[X:]（替代Python 2中的_<em>oct_</em>,__hex__）</p>
<p>|_<em>enter_</em>, _<em>exit</em>_    |环境管理器|    with obj as var:</p>
<p>|_<em>get_</em>, _<em>set_</em>,_<em>delete</em>_|描述符属性|    X.attr, X.attr = value, del X.attr</p>
<p>|_<em>new_</em>    |创建    |在__init__之前创建对象</p>
<p>所有重载方法的名称前后都有两个下划线，以便把同类中定义的变量名区别开来。特殊方法名称和表达式或运算的映射关系，是由Python语言预先定义好的（在标准语言手册中有说明）。例如名称，__add__按照Python语言的定义，无论__add__方法的代码实际在做些什么，总是对应到了表达式 + 。</p>
<p>如果没有定义运算符重载方法的话，它可能继承自超类，就像任何其他的方法一样。运算符重载方法也都是可选的……如果没有编写或继承一个方法，你的类直接不支持这些运算，并且试图使用它们会引发一个异常。一些内置操作，比如打印，有默认的重载方法（继承自Python 3.x中隐含的object类），但是，如果没有给出相应的运算符重载方法的话，大多数内置函数会对类实例失败。</p>
<p>也就是虽然自定义的类里面没有重载类方法__str__或是_<em>add_</em>,但Python3所有自定义的类都是继承了object类的，含有默认的_<em>add_</em>,_<em>str_</em>,但大部分会对实例失败。</p>
<p>还是举个之前的那个栗子，这次我们不定义_<em>add_</em>,_<em>str_</em>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThirdClass</span>(<span class="params">SecondClass</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, value</span>):</span></span><br><span class="line"></span><br><span class="line">        self.data = value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(ThirdClass))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;***************&quot;</span>)</span><br><span class="line"></span><br><span class="line">a = ThirdClass(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">b = a + <span class="string">&quot;xyz&quot;</span></span><br><span class="line"></span><br><span class="line">b.display()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[&#x27;__class__&#x27;, &#x27;__delattr__&#x27;, &#x27;__dict__&#x27;, &#x27;__dir__&#x27;, &#x27;__doc__&#x27;, &#x27;__eq__&#x27;,</span><br><span class="line"></span><br><span class="line"> &#x27;__format__&#x27;, &#x27;__ge__&#x27;, &#x27;__getattribute__&#x27;, &#x27;__gt__&#x27;, &#x27;__hash__&#x27;, &#x27;__init__&#x27;,</span><br><span class="line"></span><br><span class="line">  &#x27;__init_subclass__&#x27;, &#x27;__le__&#x27;, &#x27;__lt__&#x27;, &#x27;__module__&#x27;, &#x27;__ne__&#x27;, &#x27;__new__&#x27;,</span><br><span class="line"></span><br><span class="line">  &#x27;__reduce__&#x27;, &#x27;__reduce_ex__&#x27;, &#x27;__repr__&#x27;, &#x27;__setattr__&#x27;, &#x27;__sizeof__&#x27;,</span><br><span class="line"></span><br><span class="line">   &#x27;__str__&#x27;, &#x27;__subclasshook__&#x27;, &#x27;__weakref__&#x27;, &#x27;display&#x27;, &#x27;setdata&#x27;]</span><br><span class="line"></span><br><span class="line">***************</span><br><span class="line"></span><br><span class="line">&lt;__main__.ThirdClass object at 0x7f30d8472da0&gt;</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-40-8717227036a8&gt; in &lt;module&gt;()</span><br><span class="line"></span><br><span class="line">      7 a = ThirdClass(&quot;abc&quot;)</span><br><span class="line"></span><br><span class="line">      8 print(a)</span><br><span class="line"></span><br><span class="line">----&gt; 9 b = a + &quot;xyz&quot;</span><br><span class="line"></span><br><span class="line">     10 b.display()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">TypeError: unsupported operand type(s) for +: &#x27;ThirdClass&#x27; and &#x27;str&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们可以看到，ThirdClass类本身继承了object的很多内置方法，包括__str__，只是显示的与我们之前自定义的__str__不一样而已。而__add__就会出现异常了。</p>
<h4 id="1-6-类和字典的关系"><a href="#1-6-类和字典的关系" class="headerlink" title="1.6 类和字典的关系"></a>1.6 类和字典的关系</h4><p>python的类模型相当动态。类和实例只是命名空间，属性是通过赋值语句动态建立的。</p>
<p>模块的命名空间实际上是以字典的形式出现的，类和实例对象也是如此。可用__dict__来显示这一点，属性点号运算其实就是字典内的索引运算，而属性继承其实就是搜索链接的字典。</p>
<h4 id="1-7-测试脚本文件代码"><a href="#1-7-测试脚本文件代码" class="headerlink" title="1.7 测试脚本文件代码"></a>1.7 测试脚本文件代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># self-test</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">pass</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>只有在当前脚本文件下运行时，上述if语句条件才为真。因此，这样就可以在文件底部运行测试语句，而不会在导入文件的时候运行。</p>
<h4 id="1-8-定制构造函数"><a href="#1-8-定制构造函数" class="headerlink" title="1.8 定制构造函数"></a>1.8 定制构造函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>():</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, job=<span class="literal">None</span>, pay=<span class="number">0</span></span>):</span></span><br><span class="line"></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">        self.job = job</span><br><span class="line"></span><br><span class="line">        self.pay = pay</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">LastName</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.name.spilt()[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">giveRaise</span>(<span class="params">self, persent</span>):</span></span><br><span class="line"></span><br><span class="line">        self.pay = <span class="built_in">int</span>(self.pay * (<span class="number">1</span> + persent))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span>                            </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.__class__.__name__ + <span class="string">&#x27;:&#123;0&#125; &#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(self.name, self.pay)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span>(<span class="params">Person</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, pay</span>):</span>                <span class="comment"># 定制构造函数</span></span><br><span class="line"></span><br><span class="line">        Person.__init__(self, name, <span class="string">&#x27;mgr&#x27;</span>, pay)   <span class="comment"># 必须手动调用超类</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">giveRaise</span>(<span class="params">self, persent, bonus=<span class="number">0.1</span></span>):</span></span><br><span class="line"></span><br><span class="line">        Person.giveRaise(self, persent + bonus)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    tom = Manager(<span class="string">&#x27;Tom Jones&#x27;</span>, <span class="number">5000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(tom)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(tom.__class__.__name__)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(Manager.__bases__)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(tom.__dict__.keys())</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">getattr</span>(tom, <span class="string">&#x27;name&#x27;</span>) == tom.name) <span class="comment"># 虽然类和字典类似，但是不能写tom[&#x27;name&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行结果：</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Manager:Tom Jones <span class="number">5000</span></span><br><span class="line"></span><br><span class="line">Manager</span><br><span class="line"></span><br><span class="line">(&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">__main__</span>.<span class="title">Person</span>&#x27;&gt;,)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">dict_keys</span>(<span class="params">[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;job&#x27;</span>, <span class="string">&#x27;pay&#x27;</span>]</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">True</span></span></span><br><span class="line"><span class="class"></span></span><br></pre></td></tr></table></figure>



<p>在初始化中self.name=name这里看起来有些多余，但实际上name, job在__init__函数中只是本地变量但self.job是实例中的一个属性，这两个是不同的变量，只是恰好名字一样__init__函数没什么奇妙之处，只是在产生一个实例时，会自动调用，并且有特殊的第一个参数</p>
<p>这其中用到了特殊的类属性，</p>
<ul>
<li><p>_<em>class</em>_</p>
</li>
<li><p>_<em>name</em>_</p>
</li>
<li><p>_<em>bases</em>_</p>
</li>
<li><p>_<em>dict</em>_</p>
</li>
</ul>
<h4 id="1-9-把对象存储到数据库中"><a href="#1-9-把对象存储到数据库中" class="headerlink" title="1.9 把对象存储到数据库中"></a>1.9 把对象存储到数据库中</h4><ul>
<li><p>pickle 任意Python对象和字符串之间的序列化</p>
</li>
<li><p>dbm  实现一个可通过键访问的文件按系统，以存储字符串</p>
</li>
<li><p>shelve 使用另两个模块把python对象存储到文件中</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">bob = Person(<span class="string">&#x27;bob smith&#x27;</span>)</span><br><span class="line"></span><br><span class="line">sue = Person(<span class="string">&#x27;Sue Jones&#x27;</span>, job=<span class="string">&#x27;dev&#x27;</span>, pay=<span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line">tom = Manager(<span class="string">&#x27;Tom Jones&#x27;</span>, pay=<span class="number">5000</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> shelve</span><br><span class="line"></span><br><span class="line">db = shelve.<span class="built_in">open</span>(<span class="string">&#x27;Persondb&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">object</span> <span class="keyword">in</span> (bob, sue, tom):</span><br><span class="line"></span><br><span class="line">    db[<span class="built_in">object</span>.name] = <span class="built_in">object</span></span><br><span class="line"></span><br><span class="line">db.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">db = shelve.<span class="built_in">open</span>(<span class="string">&#x27;Persondb&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(db)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(db))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(db.keys()))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(db[<span class="string">&#x27;bob smith&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#运行结果：</span></span><br><span class="line"></span><br><span class="line">&lt;shelve.DbfilenameShelf <span class="built_in">object</span> at <span class="number">0x7f915bdce588</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;bob smith&#x27;</span>, <span class="string">&#x27;Sue Jones&#x27;</span>, <span class="string">&#x27;Tom Jones&#x27;</span>]</span><br><span class="line"></span><br><span class="line">Person:bob smith <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-10-抽象超类"><a href="#1-10-抽象超类" class="headerlink" title="1.10 抽象超类"></a>1.10 抽象超类</h4><p>对于抽象基类，需要子类来填充。当行为无法预测，非得等到更为具体的子类编写时才知道，通常可用这种方式把类通用化。OOP软件框架也使用这种方式作为客户端定义、可定制的运算的实现方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABCMeta, abstractmethod</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Super</span>(<span class="params">metaclass=ABCMeta</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delegate</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        self.action()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @abstractmethod</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">action</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub1</span>(<span class="params">Super</span>):</span>  <span class="comment"># 没有定义action函数，就会报错</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub2</span>(<span class="params">Super</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">action</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X2 = Sub2()</span><br><span class="line"></span><br><span class="line">X2.delegate()</span><br><span class="line"></span><br><span class="line">X1 = Sub1()</span><br><span class="line"></span><br><span class="line">X1.delegate()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行结果</span></span><br><span class="line"></span><br><span class="line">spam</span><br><span class="line"></span><br><span class="line">TypeError: Can<span class="string">&#x27;t instantiate abstract class Sub1 with abstract methods action</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>



<h4 id="1-11-Python命名空间"><a href="#1-11-Python命名空间" class="headerlink" title="1.11 Python命名空间"></a>1.11 Python命名空间</h4><p>直接看代码，看懂了也就了解了Python的命名空间了～</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># manyname.py</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = <span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line"></span><br><span class="line">  X = <span class="number">22</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line"></span><br><span class="line">  X = <span class="number">33</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">m</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">    X = <span class="number">44</span></span><br><span class="line"></span><br><span class="line">    self.X = <span class="number">55</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(X)       <span class="comment"># 11 module,模块属性</span></span><br><span class="line"></span><br><span class="line">f()            <span class="comment"># 11 global</span></span><br><span class="line"></span><br><span class="line">g()            <span class="comment"># 22 local,函数内的本地变量</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(X)       <span class="comment"># 11 模块属性没变</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = C()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(obj.X)   <span class="comment"># 33 类属性</span></span><br><span class="line"></span><br><span class="line">obj.m()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(obj.X)   <span class="comment"># 55 实例属性</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(C.X)     <span class="comment"># 33</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-12-super-超类"><a href="#1-12-super-超类" class="headerlink" title="1.12 super()超类"></a>1.12 super()超类</h4><p>首先要弄清楚为什么要使用super()。是因为我们想要调用父类中已经被子类覆盖的方法。最常见的比如 <strong>init</strong>()函数，在子类中必然会覆盖父类的初始化方法，这样父类中很多属性就没有了。</p>
<p>举个栗子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, batch_size, vocab_size</span>):</span></span><br><span class="line"></span><br><span class="line">        self._batch_size = batch_size</span><br><span class="line"></span><br><span class="line">        self._vocab_size = vocab_size</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = B()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b._batch_size)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>运行结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">B.spam</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">  File &quot;/home/panxie/Documents/NLP实战/text classification/06-memory-networks/test.py&quot;, line 25, in &lt;module&gt;</span><br><span class="line"></span><br><span class="line">    print(b._batch_size)</span><br><span class="line"></span><br><span class="line">AttributeError: &#x27;B&#x27; object has no attribute &#x27;_batch_size&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>结果报错：子类中不存在_batch_size这个属性。所以必须在子类的 <strong>init</strong>()函数中调用父类的 <strong>init</strong>()函数。</p>
<p>也就是这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, batch_size, vocab_size</span>):</span></span><br><span class="line"></span><br><span class="line">        self._batch_size = batch_size</span><br><span class="line"></span><br><span class="line">        self._vocab_size = vocab_size</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">super</span>(B, self).__init__(<span class="number">8</span>, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = B()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b._batch_size)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">A.spam</span><br><span class="line"></span><br><span class="line">B.spam</span><br><span class="line"></span><br><span class="line">8</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>那我们可不可以不用super()呢，直接调用A类的方法也行呀，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, batch_size, vocab_size</span>):</span></span><br><span class="line"></span><br><span class="line">        self._batch_size = batch_size</span><br><span class="line"></span><br><span class="line">        self._vocab_size = vocab_size</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        A.__init__(self, <span class="number">8</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B.spam&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = B()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b._batch_size)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>运行结果跟上面一样，貌似也没毛病。但是在多继承的时候，父类会重复调用什么的，比如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Base.__init__&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">Base</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        Base.__init__(self)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A.__init__&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">Base</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        Base.__init__(self)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B.__init__&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A,B</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"></span><br><span class="line">        A.__init__(self)</span><br><span class="line"></span><br><span class="line">        B.__init__(self)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;C.__init__&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(C.__mro__)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Base.__init__</span><br><span class="line"></span><br><span class="line">A.__init__</span><br><span class="line"></span><br><span class="line">Base.__init__</span><br><span class="line"></span><br><span class="line">B.__init__</span><br><span class="line"></span><br><span class="line">C.__init__</span><br><span class="line"></span><br><span class="line">(&lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.Base&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>可以发现基类被重复调用了两次。这显然是不好的。但是换成 super() 每个类的 <strong>init</strong>()方法保证只会调用一次。具体原理可以参考 <a target="_blank" rel="noopener" href="http://python3-cookbook-personal.readthedocs.io/zh_CN/latest/c08/p07_calling_method_on_parent_class.html">python-cookbook</a></p>
</div><div class="article-licensing box"><div class="licensing-title"><p>类和方法</p><p><a href="http://www.panxiaoxie.cn/2018/03/25/python-类和方法/">http://www.panxiaoxie.cn/2018/03/25/python-类和方法/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Xie Pan</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2018-03-25</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-01-27</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/python/">python</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/03/29/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B%E5%88%B0%E9%AB%98%E6%96%AF%E5%88%A4%E5%88%AB%E5%88%86%E6%9E%90%E5%86%8D%E5%88%B0GMM%E5%92%8CEM%E7%AE%97%E6%B3%95/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">机器学习-生成模型到高斯判别分析再到GMM和EM算法</span></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://www.panxiaoxie.cn/2018/03/25/python-%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95/';
            this.page.identifier = '2018/03/25/python-类和方法/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'panxie' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="panxiaoxie"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">panxiaoxie</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">121</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">40</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">38</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/PanXiebit" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/PanXiebit"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/ftdpanxie@gmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/PanXiebit" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="ftdpanxie@gmail.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">email</span></span><span class="level-right"><span class="level-item tag">ftdpanxie@gmail.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CSAPP/"><span class="level-start"><span class="level-item">CSAPP</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/DRL/"><span class="level-start"><span class="level-item">DRL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/GAN/"><span class="level-start"><span class="level-item">GAN</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/GAN-RL/"><span class="level-start"><span class="level-item">GAN, RL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/ML/"><span class="level-start"><span class="level-item">ML</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/cs224d/"><span class="level-start"><span class="level-item">cs224d</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/generation/"><span class="level-start"><span class="level-item">generation</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/generative-models/"><span class="level-start"><span class="level-item">generative models</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/interview/"><span class="level-start"><span class="level-item">interview</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/machine-translation/"><span class="level-start"><span class="level-item">machine translation</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/pytorch/"><span class="level-start"><span class="level-item">pytorch</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/reinforcement-learning/"><span class="level-start"><span class="level-item">reinforcement learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/sign-language-recognition/"><span class="level-start"><span class="level-item">sign language recognition</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/transfer-learning/"><span class="level-start"><span class="level-item">transfer learning</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/transformer/"><span class="level-start"><span class="level-item">transformer</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">数据结构与算法</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/"><span class="level-start"><span class="level-item">文本分类</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">论文笔记</span></span><span class="level-end"><span class="level-item tag">40</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/DL/"><span class="level-start"><span class="level-item">DL</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/ESA/"><span class="level-start"><span class="level-item">ESA</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/GAN/"><span class="level-start"><span class="level-item">GAN</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/MRC-and-QA/"><span class="level-start"><span class="level-item">MRC and QA</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/Machine-Translation/"><span class="level-start"><span class="level-item">Machine Translation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/Transformer/"><span class="level-start"><span class="level-item">Transformer</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/capsules/"><span class="level-start"><span class="level-item">capsules</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/computer-vision/"><span class="level-start"><span class="level-item">computer vision</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/constrast-learning/"><span class="level-start"><span class="level-item">constrast learning</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/data-augmentation/"><span class="level-start"><span class="level-item">data augmentation</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/dialogue-system/"><span class="level-start"><span class="level-item">dialogue system</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/language-model/"><span class="level-start"><span class="level-item">language model</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/machine-translation/"><span class="level-start"><span class="level-item">machine translation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/open-set-recognition/"><span class="level-start"><span class="level-item">open set recognition</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/sentence-embedding/"><span class="level-start"><span class="level-item">sentence embedding</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/text-matching/"><span class="level-start"><span class="level-item">text matching</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/vision-language/"><span class="level-start"><span class="level-item">vision-language</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/panxiaoxie.png" alt="潘小榭" height="28"></a><p class="is-size-7"><span>&copy; 2022 Xie Pan</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>